<div class="ssp_modify_ecs container-fluid">
    <div class="container-fluid top10">
        <div id="sspApprovalVmChangeBasicArea" class="product-info-section">
            <div class="sprite-x s-heading collapse" ng-click="clickAreaHeading('sspApprovalVmChangeBasicArea')">
                <span class="sprite arrow"></span>
                <h5 class="headFont" ng-bind="i18n.service_term_applyVMspecChange_label"></h5>
                <div class="product-info-section-subtitle">
                    &nbsp;
                </div>
            </div>
            <div class="s-content" style="display: block;">
                <div class="row-fluid top10 left25">
                    <div>
                        <tiny-formfield labelwidth="vmName.labelWidth">
                            <tiny-item label="applyUser.label">
                                <span ng-bind="orderDetail.userName"></span>
                            </tiny-item>
                            <tiny-item label="currApprover.label" display="!!orderDetail.approvers && action==='view'">
                                <span ng-bind="orderDetail.approvers"></span>
                            </tiny-item>
                            <tiny-item label="vmName.label">
                                <span ng-bind="vmDetail.name"></span>
                            </tiny-item>
                            <tiny-item label="vmId.label">
                                <span ng-bind="vmDetail.id"></span>
                            </tiny-item>
                        </tiny-formfield>
                    </div>

                    <!-- IT单独修改CPU、内存 -->
                    <div ng-if="supportModifyConfig=='false'">
                        <tiny-formfield labelwidth="vmName.labelWidth">
                            <tiny-item label="oldConfig.label">
                                <div id="sspModifyEcsOldCpuMem">
                                    <tiny-formfield>
                                        <tiny-item label="cpu.label">
                                            <span ng-bind="orderDetail.param.cpu.oldCount"></span>
                                        </tiny-item>
                                        <tiny-item label="memory.label">
                                            <span ng-bind="orderDetail.param.memory.oldCount"></span>
                                        </tiny-item>
                                    </tiny-formfield>
                                </div>
                            </tiny-item>

                            <tiny-item label="newConfig.label">
                                <div id="sspModifyEcsNewCpuMem">
                                    <tiny-formfield>
                                        <tiny-item label="cpu.label">
                                            <span ng-bind="orderDetail.param.cpu.count"></span>
                                        </tiny-item>
                                        <tiny-item label="memory.label">
                                            <span ng-bind="orderDetail.param.memory.count"></span>
                                        </tiny-item>
                                    </tiny-formfield>
                                </div>
                            </tiny-item>
                        </tiny-formfield>
                    </div>

                    <!-- ICT直接修改规格 -->
                    <div class="row-fluid" ng-if="supportModifyConfig=='true'">
                        <tiny-formfield labelwidth="vmName.labelWidth">
                            <tiny-item label="oldConfig.label">
                                <div id="sspModifyEcsOldConfig">
                                    <div ng-bind="oldConfig.detail.name" class="bottom7"></div>
                                    <tiny-formfield>
                                        <tiny-item label="cpu.label">
                                            <span ng-bind="oldConfig.detail.cpuCount"></span>
                                        </tiny-item>
                                        <tiny-item label="memory.label">
                                            <span ng-bind="oldConfig.detail.memSize"></span>
                                        </tiny-item>
                                        <tiny-item label="disk.label">
                                            <span ng-bind="oldConfig.detail.diskTotalSize"></span>
                                        </tiny-item>
                                    </tiny-formfield>
                                </div>
                            </tiny-item>

                            <tiny-item label="newConfig.label">
                                <div id="sspModifyEcsNewConfig">
                                    <div ng-bind="newConfig.detail.name" class="bottom7"></div>
                                    <tiny-formfield>
                                        <tiny-item label="cpu.label" labelcls="cpu.class">
                                            <span ng-bind="newConfig.detail.cpuCount"></span>
                                        </tiny-item>
                                        <tiny-item label="memory.label" labelcls="cpu.class">
                                            <span ng-bind="newConfig.detail.memSize"></span>
                                        </tiny-item>
                                        <tiny-item label="disk.label" labelcls="cpu.class">
                                            <span ng-bind="newConfig.detail.diskTotalSize"></span>
                                        </tiny-item>
                                    </tiny-formfield>
                                </div>
                            </tiny-item>
                        </tiny-formfield>
                    </div>

                    <tiny-formfield labelwidth="vmName.labelWidth">
                        <tiny-item label="remark.label" labelcls="vmName.labelCls">
                            <span ng-bind="orderDetail.comments"></span>
                        </tiny-item>
                    </tiny-formfield>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="action==='approval'">
        <div class="container-fluid top10">
            <div id="sspApprovalVmChangeApproval" class="product-info-section">
                <div class="sprite-x s-heading collapse" ng-click="clickAreaHeading('sspApprovalVmChangeApproval')">
                    <span class="sprite arrow"></span>
                    <h5 class="headFont" ng-bind="i18n.common_term_approve_button"></h5>
                    <div class="product-info-section-subtitle">
                        &nbsp;
                    </div>
                </div>
                <div class="s-content" style="display: block;">
                    <div class="row-fluid top10 left25">
                        <tiny-formfield labelwidth="vmName.labelWidth">
                            <tiny-item label="approvalResult.label">
                                <tiny-radiogroup id="approvalResult.id" values="approvalResult.values" spacing="approvalResult.spacing"></tiny-radiogroup>
                            </tiny-item>
                            <tiny-item label="approvalOpinion.label">
                                <tiny-textbox id="approvalOpinion.id" value="approvalOpinion.value" validate="approvalOpinion.validate" width="approvalOpinion.width"
                                              height="approvalOpinion.height" type="approvalOpinion.type">
                                </tiny-textbox>
                            </tiny-item>
                        </tiny-formfield>
                    </div>
                </div>
            </div>
        </div>

        <div class="fm-btn-top-large">
            <tiny-button id="okBtn.id" text="okBtn.text" click="okBtn.click()" class="major-btn"></tiny-button>
            <tiny-button id="cancelBtn.id" text="cancelBtn.text" click="cancelBtn.click()"></tiny-button>
        </div>
    </div>

    <div class="container-fluid top10" ng-if="action==='view'">
        <div class="container-fluid">
            <div id="sspApprovalVmChangeHistory" class="product-info-section">
                <div class="sprite-x s-heading collapse" ng-click="clickAreaHeading('sspApprovalVmChangeHistory')">
                    <span class="sprite arrow"></span>
                    <h5 class="headFont" ng-bind="i18n.common_term_processRecord_label"></h5>
                    <div class="product-info-section-subtitle">
                        &nbsp;
                    </div>
                </div>
                <div class="s-content" style="display: block;">
                    <div class="row-fluid top10 left25">
                        <div ng-repeat="history in orderDetail.history" class="height27 clearfix">
                            <span ng-bind="history.time" class="fl right10"></span>
                            <span ng-bind="history.handleUserName" class="fl right10"></span>
                            <span class="fl right10">{{i18n.common_term_processChain_label}}: {{history.actionView}}</span>
                            <span ng-if="history.comments" title="{{history.comments}}" class="text-overflow maxWidth300 fl">{{i18n.service_term_suggestion_label}}: {{history.comments}}</span>
                            <span ng-if="history.reason" title="{{history.reason}}" class="text-overflow maxWidth300 fl">{{i18n.common_term_cause_label}}: {{history.reason}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="fm-btn-top-large">
            <tiny-button ng-if="from==='myApply' && orderDetail.status ==='initialize'" id="modifyBtn.id" text="modifyBtn.text" click="modifyBtn.click()" class="major-btn"></tiny-button>
            <tiny-button ng-if="from==='myApply' && orderDetail.status ==='initialize'" id="doCancelBtn.id" text="doCancelBtn.text" click="doCancelBtn.click()" class="major-btn"></tiny-button>
            <tiny-button id="closeBtn.id" text="closeBtn.text" click="closeBtn.click()"></tiny-button>
        </div>
    </div>
</div>
