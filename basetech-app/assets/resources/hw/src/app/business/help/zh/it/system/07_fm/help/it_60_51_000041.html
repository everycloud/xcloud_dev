
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) 版权 2005">
<meta name="DC.rights.owner" content="(C) 版权 2005">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="软件自动部署">
<meta name="abstract" content="">
<meta name="description" content="">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_000041">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>软件自动部署</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("业务功能的使用\n软件自动部署");
addButton("show",BTN_TEXT,"显示","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_User_System.htm", "", ">", "Home", "../father_node/it_60_99_start_cp.html");
document.write("<a href=\"../father_node/it_60_99_100024.html\">业务功能的使用<\/a> > 软件自动部署<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_User_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_000041"></a><a name="it_60_51_000041"></a>


<h1 class="topictitle1">软件自动部署</h1>
<ul><li><a href="#it_60_51_000041__1.3.1.1">简介</a></li><li><a href="#it_60_51_000041__1.3.2.1">技能要求</a></li><li><a href="#it_60_51_000041__1.3.3.1">安全声明</a></li><li><a href="#it_60_51_000041__1.3.4.1">原理概述</a></li><li><a href="#it_60_51_000041__1.3.5.1">注意事项</a></li><li><a href="#it_60_51_000041__1.3.6.1">需要准备的软件</a></li><li><a href="#it_60_51_000041__1.3.7.1">功能使用流程</a></li><li><a href="#it_60_51_000041__1.3.8.1">配置Puppet服务属性</a></li></ul>

<div><p></p>

<div class="section"><a name="it_60_51_000041__1.3.1.1"></a><a name="1.3.1.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">简介</a></h4><div class="p"><span>FusionManager</span>提供软件自动部署功能，该功能帮助用户将应用软件或脚本快速批量的部署到虚拟机中。<ul><li>软件自动安装：使用应用模板发放应用实例时，若虚拟机模板中带有软件包模块，则可选择使用的软件包，应用软件会自动安装在对应的应用实例虚拟机中。</li><li>软件分发：选定应用软件包，并指定分发的目的虚拟机，可自动将该应用软件安装至虚拟机中。</li></ul>
<ul><li>脚本自动执行：使用应用模板发放应用实例时，若虚拟机模板中带有脚本模块，则可选择使用的脚本，脚本在对应的应用实例虚拟机中自动执行。</li><li>脚本分发：选定脚本，并指定分发的目的虚拟机，可自动在虚拟机中执行该脚本。</li></ul>
</div>
</div>

<div class="section"><a name="it_60_51_000041__1.3.2.1"></a><a name="1.3.2.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">技能要求</a></h4><p>由于软件自动部署功能所使用的软件包中的命令和脚本，均需要用户自行根据软件进行设计和编写，因此，在了解软件的同时，还需要具备代码编写能力。</p>
</div>
<div class="section"><a name="it_60_51_000041__1.3.3.1"></a><a name="1.3.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">安全声明</a></h4><p>请您务必仔细阅读并透彻理解本声明。</p>
<p>软件自动部署功能是依赖Puppet软件完成的。请您自行评估Puppet软件的产品质量和安全风险等因素之后，决定是否使用这些功能。</p>
<p>对于这些软件出现的问题，华为可以协助您进行定位，除此之外华为没有义务提供任何形式的支持。因此引起的售后服务问题，华为亦不提供任何性质的保证，由这些软件带来的安全风险华为不承担任何责任。</p>
<p>您可以选择不使用这些功能，但如果您使用这些功能，您的使用行为将被视为对本声明全部内容的认可。</p>
</div>

<div class="section"><a name="it_60_51_000041__1.3.4.1"></a><a name="1.3.4.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">原理概述</a></h4><div class="p">如<a href="#it_60_51_000041__d796e43">图1</a>所示，通过VSA管理网络中的系统服务虚拟机——PVM虚拟机，将位于管理网络的<span>FusionManager</span>节点中的应用软件安装包或脚本推送到业务网络的虚拟机中，并由虚拟机中的Puppet Client软件，根据应用软件安装包中的安装与配置命令或脚本执行命令，自动在虚拟机中安装应用软件或执行脚本。<div class="fignone" id="it_60_51_000041__d796e43"><a name="it_60_51_000041__d796e43"></a><a name="d796e43"></a><span class="figcap"><b>图1 </b>功能原理示意图</span>

<br><span><img src="fig/fig_it_60_51_000018_01.png"></span><br>
</div>
</div>
</div>

<div class="section"><a name="it_60_51_000041__1.3.5.1"></a><a name="1.3.5.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">注意事项</a></h4><div class="p"><ul><li>仅支持满足如下条件的软件和脚本：<ul><li>软件支持静默安装，即安装时无需人工干预、安装过程无需重启虚拟机的软件。</li><li>软件或脚本在安装或执行结束后，必须有返回值。返回值为0表示安装或执行成功，其他值表示失败。</li><li>软件或脚本在安装或执行过程中，若需打印日志，请勿直接打印到控制台，应重定向到日志文件中进行打印。以免控制台信息输出过多，导致无法正确输出返回值，造成系统误判。</li><li>软件安装配置成功后，能够随操作系统自动启动。</li></ul>
</li><li>仅适用于如下虚拟机：<ul><li><span>FusionCompute</span>和VMware虚拟化环境中的虚拟机。</li><li>网络为非VLAN连接类型，且网络内无DNS服务。</li><li>虚拟机操作系统为如<a href="#it_60_51_000041__d796e87">表1</a>所示类型版本。
<div class="tablenoborder"><a name="it_60_51_000041__d796e87"></a><a name="d796e87"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000041__d796e87" frame="border" border="1" rules="all"><caption><b>表1 </b>支持软件自动部署的操作系统列表</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="7.333333333333335%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.1"><p>类型</p>
</th>

<th class="cellrowborder" valign="top" width="17.6%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.2"><p>操作系统</p>
</th>

<th class="cellrowborder" valign="top" width="29.600000000000005%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.3"><p>系统版本</p>
</th>

<th class="cellrowborder" valign="top" width="11.866666666666669%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.4"><p>位数</p>
</th>

<th class="cellrowborder" valign="top" width="17.46666666666667%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.5"><p>支持创建应用时软件自动安装和脚本自动执行</p>
</th>

<th class="cellrowborder" valign="top" width="16.133333333333336%" id="mcps1.3.5.2.1.2.1.3.2.2.7.1.6"><p>支持软件分发和脚本分发</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" rowspan="15" valign="top" width="7.333333333333335%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Windows</p>
</td>

<td class="cellrowborder" rowspan="5" valign="top" width="17.6%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Windows Server 2008</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" width="29.600000000000005%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>Standard</p>
</td>

<td class="cellrowborder" valign="top" width="11.866666666666669%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" width="17.46666666666667%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" width="16.133333333333336%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.6 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>R2 Enterprise</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>R2 Standard</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Windows Server 2003</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Windows Server 2003 R2 Enterprise</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="6" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Windows 7</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Professional</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Home Premium</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Home Basic</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Windows XP</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Professional</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>否</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="12" valign="top" width="7.333333333333335%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 ">Linux</td>

<td class="cellrowborder" rowspan="6" valign="top" width="17.6%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Novell SUSE Linux</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" width="29.600000000000005%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>Enterprise Server 11 SP0</p>
</td>

<td class="cellrowborder" valign="top" width="11.866666666666669%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" width="17.46666666666667%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" width="16.133333333333336%" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.6 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Enterprise Server 11 SP1</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Enterprise Server 11 SP2</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Redhat Linux</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>Enterprise 5.5</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>Enterprise 6.2</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="4" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>CentOS</p>
</td>

<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>5.6</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.5 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>6.3</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>32位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.4 "><p>是</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.1 "><p>64位</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.2 "><p>是</p>
</td>

<td class="cellrowborder" valign="top" headers="mcps1.3.5.2.1.2.1.3.2.2.7.1.3 "><p>是</p>
</td>

</tr>

</tbody>

</table>
</div>
</li></ul>
</li></ul>
</div>
</div>

<div class="section"><a name="it_60_51_000041__1.3.6.1"></a><a name="1.3.6.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">需要准备的软件</a></h4><div class="p">执行该任务前，需要获取如<a href="#it_60_51_000041__tbl_01">表2</a>所示的软件。
<div class="tablenoborder"><a name="it_60_51_000041__tbl_01"></a><a name="tbl_01"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000041__tbl_01" frame="border" border="1" rules="all"><caption><b>表2 </b>所需软件</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="20.956719817767656%" id="mcps1.3.6.2.2.2.5.1.1"><p>名称</p>
</th>

<th class="cellrowborder" valign="top" width="31.207289293849662%" id="mcps1.3.6.2.2.2.5.1.2"><p>说明</p>
</th>

<th class="cellrowborder" valign="top" width="9.111617312072893%" id="mcps1.3.6.2.2.2.5.1.3"><p>是否可选</p>
</th>

<th class="cellrowborder" valign="top" width="38.724373576309794%" id="mcps1.3.6.2.2.2.5.1.4"><p>获取方式</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="20.956719817767656%" headers="mcps1.3.6.2.2.2.5.1.1 "><ul><li><p>应用软件安装包</p>
</li><li><p>脚本</p>
</li></ul>
</td>

<td class="cellrowborder" valign="top" width="31.207289293849662%" headers="mcps1.3.6.2.2.2.5.1.2 "><ul><li><p>应用软件的安装包及其安装与配置命令</p>
</li><li><p>脚本文件</p>
</li></ul>
</td>

<td class="cellrowborder" valign="top" width="9.111617312072893%" headers="mcps1.3.6.2.2.2.5.1.3 "><p>可选</p>
</td>

<td class="cellrowborder" valign="top" width="38.724373576309794%" headers="mcps1.3.6.2.2.2.5.1.4 "><p>根据业务需要，用户自行准备。</p>
</td>

</tr>

</tbody>

</table>
</div>
</div>
</div>

<div class="section"><a name="it_60_51_000041__1.3.7.1"></a><a name="1.3.7.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">功能使用流程</a></h4><div class="p">根据如<a href="#it_60_51_000041__fig_02">图2</a>所示流程，使用软件自动部署功能。流程中所示任务说明如<a href="#it_60_51_000041__tab_02">表3</a>所示。<div class="fignone" id="it_60_51_000041__fig_02"><a name="it_60_51_000041__fig_02"></a><a name="fig_02"></a><span class="figcap"><b>图2 </b>功能使用</span>

<br><span><img src="fig/fig_it_60_51_000041_01.png"></span></div>
</div>
<div class="p">
<div class="tablenoborder"><a name="it_60_51_000041__tab_02"></a><a name="tab_02"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000041__tab_02" frame="border" border="1" rules="all"><caption><b>表3 </b>任务说明</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="19.333333333333332%" id="mcps1.3.7.3.1.2.4.1.1"><p>任务</p>
</th>

<th class="cellrowborder" valign="top" width="42%" id="mcps1.3.7.3.1.2.4.1.2"><p>说明</p>
</th>

<th class="cellrowborder" valign="top" width="38.666666666666664%" id="mcps1.3.7.3.1.2.4.1.3"><p>界面入口</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="19.333333333333332%" headers="mcps1.3.7.3.1.2.4.1.1 "><p>添加应用软件安装包和脚本</p>
</td>

<td class="cellrowborder" valign="top" width="42%" headers="mcps1.3.7.3.1.2.4.1.2 "><p>根据业务需要选择要推送安装或执行的应用软件包或脚本。</p>
<p>可以使用系统管理员已经添加的应用软件安装包和脚本，也可以自己添加所需的应用软件安装包和脚本。</p>
</td>

<td class="cellrowborder" valign="top" width="38.666666666666664%" headers="mcps1.3.7.3.1.2.4.1.3 "><ul><li><p><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">软件包</span>”</span></p>
</li><li><p><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">脚本</span>”</span></p>
</li></ul>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="19.333333333333332%" headers="mcps1.3.7.3.1.2.4.1.1 "><p>在VPC中部署服务</p>
</td>

<td class="cellrowborder" valign="top" width="42%" headers="mcps1.3.7.3.1.2.4.1.2 "><p>部署服务的过程，就是系统使用PVM虚拟机模板，自动在VSA网络中创建PVM虚拟机的过程。 </p>
</td>

<td class="cellrowborder" valign="top" width="38.666666666666664%" headers="mcps1.3.7.3.1.2.4.1.3 "><p>在<span class="menucascade">“<span class="uicontrol">VPC</span> &gt; <span class="uicontrol">我的VPC</span>”</span>界面，选择一个VPC，进入<span class="uicontrol">“部署服务”</span>界面。</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="19.333333333333332%" headers="mcps1.3.7.3.1.2.4.1.1 "><p>创建应用模板</p>
</td>

<td class="cellrowborder" valign="top" width="42%" headers="mcps1.3.7.3.1.2.4.1.2 "><p>在应用模板中，需将软件包或脚本图元，拖入虚拟机图元中，并配置相关参数。</p>
<p>若虚拟机图元的操作系统，是<span class="wintitle">“注意事项”</span>中列表所示的<span class="parmname">“支持创建应用时软件自动安装和脚本自动执行”</span>为<span class="parmvalue">“否”</span>的操作系统，则请勿添加软件包或脚本图元。</p>
</td>

<td class="cellrowborder" valign="top" width="38.666666666666664%" headers="mcps1.3.7.3.1.2.4.1.3 "><span class="menucascade">“<span class="uicontrol">应用</span> &gt; <span class="uicontrol">应用模板</span>”</span></td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="19.333333333333332%" headers="mcps1.3.7.3.1.2.4.1.1 "><p>配置Puppet服务属性</p>
</td>

<td class="cellrowborder" valign="top" width="42%" headers="mcps1.3.7.3.1.2.4.1.2 "><p id="it_60_51_000041__cfg"><a name="it_60_51_000041__cfg"></a><a name="cfg"></a>如<span class="wintitle">“注意事项”</span>中操作系统列表所示，<span class="parmname">“支持创建应用时软件自动安装和脚本自动执行”</span>为<span class="parmvalue">“否”</span>的操作系统虚拟机，使用分发功能之前，需先在虚拟机中配置Puppet服务属性。</p>
<p>具体操作请参考<a href="#it_60_51_000041__setPuppet">配置Puppet服务属性</a>。</p>
</td>

<td class="cellrowborder" valign="top" width="38.666666666666664%" headers="mcps1.3.7.3.1.2.4.1.3 "><p>使用VNC方式登录虚拟机</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="19.333333333333332%" headers="mcps1.3.7.3.1.2.4.1.1 "><p>创建应用实例或分发软件或脚本</p>
</td>

<td class="cellrowborder" valign="top" width="42%" headers="mcps1.3.7.3.1.2.4.1.2 "><ul><li><p>使用带有软件包或脚本属性的应用模板创建应用。</p>
</li><li><p>为虚拟机分发软件或脚本。</p>
</li></ul>
</td>

<td class="cellrowborder" valign="top" width="38.666666666666664%" headers="mcps1.3.7.3.1.2.4.1.3 "><ul><li><p><span class="menucascade">“<span class="uicontrol">应用</span> &gt; <span class="uicontrol">应用模板</span>”</span></p>
</li><li><p><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">软件包</span>”</span></p>
<p><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">脚本</span>”</span></p>
</li></ul>
</td>

</tr>

</tbody>

</table>
</div>
</div>
</div>

<div class="section" id="it_60_51_000041__setPuppet"><a name="it_60_51_000041__setPuppet"></a><a name="setPuppet"></a><a name="it_60_51_000041__1.3.8.1"></a><a name="1.3.8.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000041" class="sectiontitle2contents">配置Puppet服务属性</a></h4><p>如<span class="wintitle">“注意事项”</span>中操作系统列表所示，<span class="parmname">“支持创建应用时软件自动安装和脚本自动执行”</span>为<span class="parmvalue">“否”</span>的操作系统虚拟机，使用分发功能之前，需先在虚拟机中配置Puppet服务属性。</p>
<p>如下操作以Windows
Server 2008操作系统为例。</p>
<ol><li>使用VNC方式登录虚拟机。</li><li>在<span class="uicontrol">“开始”</span>菜单中，右键单击<span class="uicontrol">“计算机”</span>，并选择<span class="uicontrol">“管理”</span>。<p>弹出<span class="wintitle">“服务器管理”</span>对话框。</p>
</li><li>选择<span class="menucascade">“<span class="uicontrol">服务器管理器</span> &gt; <span class="uicontrol">配置</span> &gt; <span class="uicontrol">本地用户和组</span> &gt; <span class="uicontrol">用户</span>”</span>，右键单击右侧窗口空白处，并选择<span class="uicontrol">“新用户”</span>。<p>弹出<span class="wintitle">“新用户”</span>对话框。</p>
</li><li>按照如下要求配置参数，并单击<span class="uicontrol">“创建”</span>。<div class="p"><ul><li>用户名：自定义一个名称，例如<span class="parmvalue">“puppetuser”</span>。</li><li>密码：自定义该用户的密码，例如<span class="parmvalue">“Admin@123”</span>。</li><li>用户下次登录时须更改密码：取消勾选</li><li>密码永不过期：勾选</li></ul>
</div>
</li><li>单击<span class="uicontrol">“关闭”</span>。<p>返回<span class="wintitle">“服务器管理”</span>对话框，在用户列表中显示新增的用户信息。</p>
</li><li>右键单击新增用户，并选择<span class="uicontrol">“属性”</span>。<p>弹出<span class="wintitle">“属性”</span>对话框。</p>
</li><li>在<span class="wintitle">“隶属于”</span>页签中，单击<span class="uicontrol">“添加”</span>。</li><li>输入<span class="parmvalue">“Administrators”</span>，并单击<span class="uicontrol">“确定”</span>。<p>返回<span class="wintitle">“属性”</span>对话框，列表中显示新增的<span class="parmvalue">“Administrators”</span>。</p>
</li><li>单击<span class="uicontrol">“确定”</span>。</li><li>选择<span class="menucascade">“<span class="uicontrol">开始</span> &gt; <span class="uicontrol">运行</span>”</span>。</li><li>在<span class="wintitle">“运行”</span>对话框中，输入<b><span class="cmdname">services.msc</span></b>，并单击<span class="uicontrol">“确定”</span>。<p>弹出<span class="wintitle">“服务”</span>对话框。</p>
</li><li>在服务列表中，右键单击<span class="parmname">“gmagent”</span>，并选择<span class="uicontrol">“属性”</span>。</li><li>在<span class="wintitle">“登录”</span>页签中，选择<span class="uicontrol">“此帐户”</span>。</li><li>输入创建的新用户和密码，例如<span class="parmvalue">“.\puppetuser”</span>和<span class="parmvalue">“Admin@123”</span>，并单击<span class="uicontrol">“确定”</span>。</li><li>右键单击<span class="parmname">“gmagent”</span>，并选择<span class="uicontrol">“重新启动”</span>，重新启动该服务。</li><li>按照上述方法，配置并重新启动<span class="parmname">“Puppet Agent”</span>服务。<p>完成配置Puppet服务属性。</p>
</li></ol>
</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">华为专有和保密信息</div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>