
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Creating an Application Template">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_600011">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>Creating an Application Template</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("FAQ\nCreating an Application Template");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_User_System.htm", "", ">", "Home", "../father_node/it_60_99_start_cp.html");
document.write("<a href=\"../father_node/it_60_99_faq_cp_01.html\">FAQ<\/a> > Creating an Application Template<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_User_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_600011"></a><a name="it_60_51_600011"></a>


<h1 class="topictitle1">Creating an Application Template</h1>
<ul><li><a href="#it_60_51_600011__1.2.1.1">Scenarios</a></li><li><a href="#it_60_51_600011__1.2.2.1">Prerequisites</a></li><li><a href="#it_60_51_600011__1.2.3.1">Procedure</a></li><li><a href="#it_60_51_600011__1.2.4.1">Operation Result</a></li><li><a href="#it_60_51_600011__1.2.5.1">Example</a></li></ul>


<div>
<div class="section"><a name="it_60_51_600011__1.2.1.1"></a><a name="1.2.1.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600011" class="sectiontitle2contents">Scenarios</a></h4>


<div class="p"><p><span>An application template is a service
model that combines logical components, including VMs, software packages,
scripts, and network resources, based on the configured relationship. </span><span>You can use an application template
to create VMs in batches and rapidly deploy application instances.</span></p>
<div class="p">On <span>FusionManager</span>, create
an application template on the design panel by performing the following
operations:<ol><li>Select components: Select the required components from the left
pane on the page and draw them one by one to the central panel, as
shown in <span class="parmvalue"><b>1</b></span> in <a href="#it_60_51_600011__d1301e71">Figure 1</a>.</li><li>Configure component attributes: Select an icon on the central
panel and configure its attributes in the right pane of the page,
as shown in <span class="parmvalue"><b>2</b></span> and <span class="parmvalue"><b>3</b></span> in <a href="#it_60_51_600011__d1301e71">Figure 1</a>.</li><li>Configure the association relationship: Hover the cursor on the
VM icon, wait until the cursor changes to the hand shape, and then
draw the VM icon to the network icon, as shown in <span class="parmvalue"><b>4</b></span> in <a href="#it_60_51_600011__d1301e71">Figure 1</a>. This operation indicates that the
VM uses this network.</li><li>Save the application template: After the design is complete, click <span class="uicontrol"><b>Verify</b></span> in the upper-right corner of the page, verify
template information, and click <span class="uicontrol"><b>Save</b></span>.</li><li>Publish the application template: Click <span class="uicontrol"><b>Back</b></span>. In the application template list, click <span class="uicontrol"><b>Publish</b></span>.</li></ol>
After the application template is successfully published, tenants
can use this template to deploy application instances in the service
view.<div class="fignone" id="it_60_51_600011__d1301e71"><a name="it_60_51_600011__d1301e71"></a><a name="d1301e71"></a><span class="figcap"><b>Figure 1 </b>Creating an application template</span>

<br><span><img src="fig/fig_it_60_51_600005_01.png"></span><br>
</div>
</div>
</div>

</div>

<div class="section"><a name="it_60_51_600011__1.2.2.1"></a><a name="1.2.2.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600011" class="sectiontitle2contents">Prerequisites</a></h4>


<div class="p"><div class="p"><ul><li>You have logged in to <span>FusionManager</span> and switch to the <span class="menucascade"><b><span class="uicontrol">Application</span></b> &gt; <b><span class="uicontrol">Application Templates</span></b></span> page. </li><li>You have planned the application service model.</li></ul>
</div>
</div>

</div>

<div class="section"><a name="it_60_51_600011__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600011" class="sectiontitle2contents">Procedure</a></h4>

<ul><div class="HandlingTitled"><p class="sectiontitle">Switch to the design panel.</p>
<div class="Steps-titled"><ol type="1" start="1"><li><span>On the <span class="wintitle"><b>Application Templates</b></span> page,
click <span class="uicontrol"><b>Create</b></span>.</span>
<p>The application template design panel is displayed.</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Select components of the application template.</p>
<div class="Steps-titled"><ol type="1" start="2"><li><span>In the left pane of the page, select a component for the application template based on the planned application service model and then draw the component to the central panel.</span>
<p><p>The software package and script icons must be drawn to the VM icon, indicating the software package and the script are installed or running on the VM. They are installed based on the sequence in which they are drawn. The earliest component that
is drawn to the VM icon is first installed. For more information about automatic deployment of software packages and script files, see <a href="it_60_51_000041.html">Automatic Software Deployment</a>.</p>
</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Configure component attributes.</p>
<div class="Steps-titled"><ol type="1" start="3"><li><span>Click the blank area on the panel to configure application
template information.</span>
<p>The following information needs to be configured:<ul><li><span class="parmname"><b>Name</b></span></li><li><span class="parmname"><b>Icon</b></span></li><li><span class="parmname"><b>Description</b></span></li><li><span class="parmname"><b>Public Parameters</b></span><p>A public parameter is
a variable that can be referenced by a parameter with <span><img src="fig/fig_it_60_51_600005_06.png"></span>. You can configure
this variable when creating an application. For example, when setting <span class="uicontrol"><b>Computer Name</b></span> for a VM template, you can click <span><img src="fig/fig_it_60_51_600005_06.png"></span> and select the public
parameter whose <span class="parmname"><b>Type</b></span> is set to <span class="uicontrol"><b>HostName</b></span>.</p>
</li><li><span class="parmname"><b>Output Parameters</b></span>: name, value, and description<p>Output parameters provide administrators with application information,
such as the application name, after the applications is created.</p>
<div class="p" id="it_60_51_600011__d1301e200"><a name="it_60_51_600011__d1301e200"></a><a name="d1301e200"></a>The parameter value can be fixed or contain a variable,
for example, <span class="parmvalue"><b>http://#Linux_1.DefaultNic#/discuz</b></span>. The variable is isolated from the fixed value by two pound signs
(#). <span>FusionManager</span> supports two variables:<ul><li><i><span class="varname">VM NIC IP address</span></i>. The format is <span class="parmname"><b>#VM template name.NIC name#</b></span>. Details are as follows:<ul><li><i><span class="varname">VM template name</span></i>: specifies the name of the
created VM template, for example, <span class="parmname"><b>Linux_1</b></span>.</li><li><i><span class="varname">NIC name</span></i>: The name of the default NIC is <span class="parmname"><b>DefaultNic</b></span>, and that of a user-defined NIC is defined
by the user.</li><li>Therefore, the output parameter of <span class="parmname"><b>http://#Linux_1.DefaultNic#/discuz</b></span> is <span class="parmname"><b>http://192.168.10.3/discuz</b></span>.</li></ul>
</li><li><i><span class="varname">Output of the public parameters</span></i>. The format
is #Parameters.Public parameter name#. Details are as follows:<ul><li><span class="parmname"><b>Parameters.</b></span> is a fixed value and is not displayed
in the output.</li><li><span class="parmname"><b>Public parameter name</b></span> specifies the name
of a user-defined public parameter, for example, <span class="parmname"><b>Hostname</b></span>.</li><li>If <span class="parmname"><b>Hostname</b></span> is <span class="parmvalue"><b>ComputerName_123</b></span>, the output of <span class="parmname"><b>#Parameters.Hostname#</b></span> is <span class="parmvalue"><b>ComputerName_123</b></span>.</li></ul>
</li></ul>
</div>
</li></ul>
</p>
</li><li><span>Click the network icon and configure network information.</span>
<p>The network information includes <span class="parmname"><b>Name</b></span> and <span class="parmname"><b>Description</b></span>.</p>
</li><li><span>Click the VM icon and configure VM information.</span>
<p>The following information needs to be configured:<ul><li><span class="parmname"><b>OS</b></span></li><li><span class="parmname"><b>OS Version</b></span></li><li><span class="parmname"><b>Name</b></span></li><li><span class="parmname"><b>Description</b></span></li><li><span class="parmname"><b>Computer Name</b></span></li><li><div class="p"><span class="parmname"><b>Upgrade Mode</b></span>: <ul><li><span class="parmvalue"><b>Automatic</b></span>: The VM automatically installs
the upgrade package pushed by the system.</li><li><span class="parmname"><b>Manual</b></span>: If the VM runs a Windows operating
system, the VM user determines whether to install the upgrade package
pushed by the system after receiving an installation confirmation
message. If the VM runs a Linux operating system, the upgrade package
is not installed.</li></ul>
</div>
</li><li><div class="p"><span class="parmname"><b>Basic Block Storage Advanced
Functions</b></span>:<ul><li>In this mode, the storage device performance is not adversely
affected.</li><li>In this mode, the storage device performance deteriorates.</li></ul>
</div>
</li><li><span class="parmname"><b>NIC Name</b></span>: A VM contains at least one NIC,
and the default NIC cannot be modified or deleted. You can click <span><img src="fig/fig_it_60_51_600005_02.png"></span> to add a NIC.</li><li><span class="parmname"><b>Initialization Command</b></span></li><li><span class="parmname"><b>Start Command</b></span></li><li><span class="parmname"><b>Stop Command</b></span></li></ul>
</p>
</li><li><span>To configure a scaling group for the VM, click <span><img src="fig/fig_it_60_51_600005_03.png"></span> in the upper-right
corner of the VM icon and configure application policy information.</span>
<p><p><span>Scheduling policies are used to adjust resource workloads for scaling groups in an application instance.</span></p>
<p><span>A scaling group is a collection of VMs in an application instance. With scheduling policies, the system automatically adds new VMs or start stopped VMs in a scaling group if the VM workloads in the group are generally heavy.
If the VM workloads are generally light, the system automatically deletes VMs from the group. This function balances the VM workloads in an application instance and maximizes the resource utilization.</span></p>
<div class="p">The following information needs to be configured:<ul><li><span class="parmname"><b>Name</b></span></li><li><span class="parmname"><b>Description</b></span></li><li><span class="parmname"><b>Max. Number of VMs</b></span>: specifies the maximum
number of VMs that can be created or the upper limit after capacity
expansion in the scaling group. </li><li><span class="parmname"><b>Max. Number of VMs</b></span>: specifies the minimum
number of VMs that can be created or the lower limit after capacity
reduction in the scaling group.</li><li><span class="parmname"><b>Min. Number of Running VMs</b></span>: specifies the
minimum number of VMs in the <span class="parmvalue"><b>Running</b></span> state
in the scaling group.</li><li><span class="parmname"><b>Cooling Time (minutes)</b></span>: specifies the interval
between two capacity expansion or reduction operations. During this
period, all trigger conditions are invalid.</li><li><span class="parmname"><b>Intra-Group Policy</b></span>: You can click <span><img src="fig/fig_it_60_51_600005_02.png"></span> to add an intra-group
policy.<ul><li><span class="parmname"><b>Period (min)</b></span>, <span class="parmname"><b>Consecutive Times</b></span>, and <span class="parmname"><b>Conditional Configuration</b></span>:<p>In a statistical
period, statistics are collected based on the conditions set in <span class="parmname"><b>Conditional Configuration</b></span>. Once preset conditions are
met, 1 is added to an interval statistical index used by the system
to determine whether to trigger the specified operation. If the preset
conditions are not met, the statistical index is reset to 0. If the
conditions set in <span class="parmname"><b>Conditional Configuration</b></span> are
met for a number of times specified in <span class="parmname"><b>Consecutive Times</b></span> within the statistical period, the operation specified in <span class="parmname"><b>Action</b></span> will be performed.</p>
<p>For example, <span class="parmname"><b>Period (min)</b></span> is set to <span class="parmvalue"><b>10</b></span>, <span class="parmname"><b>Consecutive Times</b></span> is set to <span class="parmvalue"><b>2</b></span>,
and <span class="parmname"><b>Conditional Configuration</b></span> is set to <span class="parmvalue"><b>CPU usage, Average value, &gt;=, 80%</b></span>. In the first interval,
if the average CPU usage is 82%, which is greater than <span class="parmvalue"><b>80%</b></span> specified in <span class="parmname"><b>Conditional Configuration</b></span>, the internal statistical index is set to 1. Then, in the second
interval, if the average CPU usage is 84%, which is also greater than <span class="parmvalue"><b>80%</b></span>, 1 is added to the internal statistical index. Therefore,
the internal statistical index value is 2, which equals to the <span class="parmname"><b>Consecutive Times</b></span> value. In this case, the specified operation
is performed.</p>
</li><li><span class="parmname"><b>Action Type</b></span>: specifies the operation, such
as VM capacity expansion or reduction based on the specified step,
to be performed when the preset conditions are met. The default method
is recommended for VM capacity expansion or reduction. To prevent
data loss caused by VM reduction, exercise caution when deleting VMs
for VM capacity reduction. </li><li><span class="parmname"><b>Cooling Time (minutes)</b></span>: specifies the interval
between two capacity expansion or reduction operations. During this
period, all trigger conditions are invalid. </li><li><span class="parmname"><b>Step</b></span>: specifies the number of VMs to be added
or reduced at a time. The system randomly selects VMs from the scaling
group for capacity expansion or reduction.</li></ul>
</li></ul>
</div>
</p>
</li><li><span>Click the software or script icon to configure software
or script information.</span>
<p>The information includes <span class="parmname"><b>Name</b></span>, <span class="parmname"><b>Description</b></span>, and <span class="parmname"><b>Version</b></span>.</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Configure the association relationship.</p>
<div class="Steps-titled"><ol type="1" start="8"><li><span>Hover the cursor on the VM icon, wait until the cursor
changes to the hand shape, and then draw the VM icon to the network
icon. If a connection arrow is displayed between the VM icon and the
network icon, the association between the VM and the network is set
up, indicating that the VM uses this network.</span>
<p><p>If a VM icon needs to be connected to multiple network icons,
the number of NICs configured for the VM must be the same as the number
of connected network icons.</p>
</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Verify, save, and publish the application template.</p>
<div class="Steps-titled"><ol type="1" start="9"><li><span>Click <span class="uicontrol"><b>Verify</b></span> in the upper-right
corner of the page, verify template information, and click <span class="uicontrol"><b>Save</b></span>.</span></li><li><span>Click <span class="uicontrol"><b>Back</b></span>. In the application
template list, click <span class="uicontrol"><b>Publish</b></span>.</span></li></ol></div>
</div>
</ul>

</div>

<div class="section"><a name="it_60_51_600011__1.2.4.1"></a><a name="1.2.4.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600011" class="sectiontitle2contents">Operation Result</a></h4>


<div class="p"><p>In the application template list, the status of the new
application template changes to <span class="parmvalue"><b>Published</b></span>,
indicating that the application template can be used to create application
instances.</p>
</div>

</div>

<div class="section"><a name="it_60_51_600011__1.2.5.1"></a><a name="1.2.5.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600011" class="sectiontitle2contents">Example</a></h4>


<div class="p"><p>The following example describes how to create an application
template for a forum application service model.</p>
<div class="p">Requirements
for the forum service are as follows:<ul><li>The web server communicates with external networks for providing
web services for users.</li><li>The web server connects to the database for storing users' access
data.</li><li>The database service is isolated from external networks and is
accessible only to the web server.</li></ul>
<a href="#it_60_51_600011__d1301e584">Figure 2</a> shows the application service model
planned for keeping up with these requirements. <a href="#it_60_51_600011__d1301e591">Figure 3</a> shows the application template created based on the service
model.<div class="fignone" id="it_60_51_600011__d1301e584"><a name="it_60_51_600011__d1301e584"></a><a name="d1301e584"></a><span class="figcap"><b>Figure 2 </b>Forum model</span>

<br><span><img src="fig/fig_it_60_51_600005_04.png"></span><br>
</div>
<div class="fignone" id="it_60_51_600011__d1301e591"><a name="it_60_51_600011__d1301e591"></a><a name="d1301e591"></a><span class="figcap"><b>Figure 3 </b>Application template</span>

<br><span><img src="fig/fig_it_60_51_600005_05.png"></span><br>
</div>
</div>
</div>

</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>