<div class="ecs_vm_detail_monitor_resource" ng-controller="ecs.vm.detail.monitor.resource.ctrl">
    <div class="clearfix">
        <div class="fl">
            <div class="two-title" style="display: inline;"><span ng-bind="i18n.common_term_cycle_label"></span>：</div>
            <tiny-select id="cycle.id" values="cycle.values" width="cycle.width" change="cycle.change()"></tiny-select>
        </div>
        <div class="fl left10">
            <div ng-show="isCustomized">
                <span ng-bind="i18n.perform_term_customCycle_label"></span>：
                <tiny-datetime id="customizedCycle.startDate.id"
                               type="customizedCycle.startDate.type"
                               date-format="customizedCycle.startDate.dateFormat"
                               time-format="customizedCycle.startDate.timeFormat"
                               min-date="customizedCycle.startDate.minDate"
                               max-date="customizedCycle.startDate.maxDate"
                               ampm="customizedCycle.startDate.ampm"
                               first-day="customizedCycle.startDate.firstDay"
                               on-close="customizedCycle.startDate.onClose"></tiny-datetime>
                -
                <tiny-datetime id="customizedCycle.endDate.id"
                               type="customizedCycle.endDate.type"
                               date-format="customizedCycle.endDate.dateFormat"
                               time-format="customizedCycle.endDate.timeFormat"
                               min-date="customizedCycle.endDate.minDate"
                               max-date="customizedCycle.endDate.maxDate"
                               ampm="customizedCycle.endDate.ampm"
                               first-day="customizedCycle.endDate.firstDay"
                               on-close="customizedCycle.endDate.onClose"></tiny-datetime>
                <tiny-button id="customizedCycle.okBtn.id" text="customizedCycle.okBtn.text" click="customizedCycle.okBtn.click()" class="fm-btn-left-large"></tiny-button>
            </div>
        </div>
        <div class="fr">
            <tiny-button id="export.id" text="export.text" click="export.click()" class="major-btn"></tiny-button>
        </div>
    </div>

    <div class="row-fluid top10">
        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind="i18n.perform_term_CPUusageRate_label"></div>
            <tiny-lineplot id="cpuRate.id" xaxis="cpuRate.xaxis" yaxis="cpuRate.yaxis" data="cpuRate.data" tips="cpuRate.tips" series="cpuRate.series" width="cpuRate.width" height="cpuRate.height" grid="cpuRate.grid" legend="cpuRate.legend">
            </tiny-lineplot>
        </div>

        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind="i18n.perform_term_memUsageRate_label"></div>
            <tiny-lineplot id="memRate.id" xaxis="memRate.xaxis" yaxis="memRate.yaxis" data="memRate.data" tips="memRate.tips" series="memRate.series" width="memRate.width" height="memRate.height" grid="memRate.grid" legend="memRate.legend">
            </tiny-lineplot>
        </div>
    </div>

    <div class="row-fluid top10">
        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind="i18n.common_term_diskIOKBs_label"></div>
            <tiny-lineplot id="diskIO.id" xaxis="diskIO.xaxis" yaxis="diskIO.yaxis" data="diskIO.data" tips="diskIO.tips" series="diskIO.series" width="diskIO.width" height="diskIO.height" grid="diskIO.grid" legend="diskIO.legend">
            </tiny-lineplot>
        </div>

        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind="i18n.common_term_netFlowRateKbps_label"></div>
            <tiny-lineplot id="networkIO.id" xaxis="networkIO.xaxis" yaxis="networkIO.yaxis" data="networkIO.data" tips="networkIO.tips" series="networkIO.series" width="networkIO.width" height="networkIO.height" grid="networkIO.grid" legend="networkIO.legend">
            </tiny-lineplot>
            <div id="netIoLegend"></div>
        </div>
    </div>

    <div class="row-fluid top10">
        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind="i18n.perform_term_diskUsageRate_label"></div>
            <tiny-lineplot id="diskRate.id" xaxis="diskRate.xaxis" yaxis="diskRate.yaxis" data="diskRate.data" tips="diskRate.tips" series="diskRate.series" width="diskRate.width" height="diskRate.height" grid="diskRate.grid" legend="diskRate.legend">
            </tiny-lineplot>
        </div>

        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind-html="i18n.common_term_diskIOnum_label"></div>
            <tiny-lineplot id="diskPs.id" xaxis="diskPs.xaxis" tips="diskPs.tips" grid="diskPs.grid" yaxis="diskPs.yaxis" data="diskPs.data" series="diskPs.series" width="diskPs.width" height="diskPs.height" legend="diskPs.legend">
            </tiny-lineplot>
            <div id="diskPsUsageLegend"></div>
        </div>
    </div>

    <div class="row-fluid top10" ng-if="!isICT">
        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind-html="i18n.perform_term_CPUwait_label"></div>
            <tiny-lineplot id="cpuReadyTime.id" xaxis="cpuReadyTime.xaxis" tips="cpuReadyTime.tips" grid="cpuReadyTime.grid" yaxis="cpuReadyTime.yaxis" data="cpuReadyTime.data" series="cpuReadyTime.series" width="cpuReadyTime.width" height="cpuReadyTime.height" legend="cpuReadyTime.legend">
            </tiny-lineplot>
            <div id="cpuReadyTimeUsageLegend"></div>
        </div>

        <div class="span6 outbox-padding" style="padding-bottom: 35px;">
            <div class="legend" ng-bind-html="i18n.common_term_diskRWDelay_label"></div>
            <tiny-lineplot id="diskDelay.id" xaxis="diskDelay.xaxis" tips="diskDelay.tips" grid="diskDelay.grid" yaxis="diskDelay.yaxis" data="diskDelay.data" series="diskDelay.series" width="diskDelay.width" height="diskDelay.height" legend="diskDelay.legend">
            </tiny-lineplot>
            <div id="diskDelayUsageLegend"></div>
        </div>
    </div>

    <iframe id="downloadVmHistoryMonitor" style="display:none"></iframe>
</div>

<script>
require(['app/business/ecs/controllers/vm/monitor/vmMonitorResourceCtrl'],
    function(vmMonitorResourceCtrl) {
        var dep = ['ng', 'wcc', vmMonitorResourceCtrl.name];
        dep.unshift(["$provide",
            function($provide) {
                $provide.value("$rootElement", $(".ecs_vm_detail_monitor_resource"));
            }
        ]);
        var $injector = angular.injector(dep);
        $injector.invoke(function($compile, $rootScope) {
            $compile($(".ecs_vm_detail_monitor_resource"))($rootScope);
            $rootScope.$digest();
        });
    });
</script>