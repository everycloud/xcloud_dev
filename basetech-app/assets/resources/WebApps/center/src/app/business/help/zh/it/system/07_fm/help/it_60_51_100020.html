
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) 版权 2005">
<meta name="DC.rights.owner" content="(C) 版权 2005">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="存储资源池">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_100020">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>存储资源池</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("资源管理\n资源池管理\n资源分区\n存储资源池");
addButton("show",BTN_TEXT,"显示","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_100001.html\">资源管理<\/a> > <a href=\"../father_node/it_60_99_100004.html\">资源池管理<\/a> > <a href=\"../father_node/it_60_99_100005.html\">资源分区<\/a> > 存储资源池<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_100020"></a><a name="it_60_51_100020"></a>


<h1 class="topictitle1">存储资源池</h1>
<ul><li><a href="#it_60_51_100020__1.2.4.1">添加二级存储</a></li><li><a href="#it_60_51_100020__1.2.5.1">修改存储SLA</a></li><li><a href="#it_60_51_100020__1.2.6.1">存储的维护模式</a></li><li><a href="#it_60_51_100020__1.2.7.1">迁移存储中的磁盘</a></li><li><a href="#it_60_51_100020__1.2.8.1">导出存储列表</a></li><li><a href="#it_60_51_100020__1.2.9.1">删除二级存储</a></li><li><a href="#it_60_51_100020__1.2.10.1">创建磁盘</a></li><li><a href="#it_60_51_100020__1.2.11.1">将磁盘绑定虚拟机</a></li><li><a href="#it_60_51_100020__1.2.12.1">将磁盘解绑定虚拟机</a></li><li><a href="#it_60_51_100020__1.2.13.1">分配磁盘</a></li><li><a href="#it_60_51_100020__1.2.14.1">删除磁盘</a></li><li><a href="#it_60_51_100020__1.2.15.1">FAQ</a></li></ul>
<div>
<p>存储资源池是<span>FusionManager</span>用于虚拟机或应用实例发放的存储资源的集合。</p>

<p>这些资源由资源集群提供，接入的虚拟化环境中的资源集群，只有关联到资源分区中，其存储资源才能够被<span>FusionManager</span>用于业务发放。</p>

<div class="p">存储资源无需单独关联至资源分区，因为在<span class="wintitle">“计算资源池”</span>界面，关联资源集群时，资源集群中所包含的存储资源会随计算资源一同纳入<span>FusionManager</span>资源分区中，显示在<span class="wintitle">“存储资源池”</span>界面。<ul><li>主存储：关联至资源分区的资源集群内的数据存储。</li><li>二级存储：选取关联了所有主机的主存储，标识为二级存储，优先存放虚拟机模板，以便实现跨集群创建虚拟机。</li><li>容灾存储组：<span id="it_60_51_100020__vr"><a name="it_60_51_100020__vr"></a><a name="vr"></a>仅配合<span class="wintitle">“UltraVR”</span>产品使用，使用方法请参考UltraVR产品文档。</span></li></ul>
</div>

<div class="section"><a name="it_60_51_100020__1.2.4.1"></a><a name="1.2.4.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">添加二级存储</a></h4><p>选取关联了所有主机的主存储，标识为二级存储。创建的虚拟机模板会优先选择二级存储进行存放，以便实现跨集群创建虚拟机。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="menucascade">“<span class="uicontrol">存储资源池</span> &gt; <span class="uicontrol">二级存储</span>”</span>界面</span>，选择<span class="menucascade">“<span class="uicontrol">添加</span>”</span>。</p>
<p>二级存储添加后，会从<span class="uicontrol">“主存储”</span>界面转移显示在<span class="uicontrol">“二级存储”</span>界面中。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.5.1"></a><a name="1.2.5.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">修改存储SLA</a></h4><p>在关联资源集群时，配置了存储SLA，后续还可进行调整。为数据存储配置了存储SLA后，在使用时便可根据存储SLA进行选择，从而可以更加灵活的控制存储的使用情况。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，<span class="uicontrol">“主存储”</span>页签中，存储所在行，单击<span class="uicontrol">“修改”</span>或在<span class="uicontrol">“二级存储”</span>页签中，存储所在行，选择<span class="menucascade">“<span class="uicontrol">更多</span> &gt; <span class="uicontrol">修改存储SLA</span>”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.6.1"></a><a name="1.2.6.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">存储的维护模式</a></h4><p>存储进入维护模式后，即与整个系统隔离开来，无法在该存储上创建虚拟机和磁盘。但已经运行在该存储上的虚拟机或磁盘不受影响。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，<span class="uicontrol">“主存储”</span>页签中，存储所在行，选择<span class="menucascade">“<span class="uicontrol">更多</span> &gt; <span class="uicontrol">进入维护模式</span>”</span>或在<span class="uicontrol">“二级存储”</span>页签中，存储所在行，单击<span class="menucascade">“<span class="uicontrol">进入维护模式</span>”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.7.1"></a><a name="1.2.7.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">迁移存储中的磁盘</a></h4><p>将数据存储中的磁盘迁移到其他数据存储中。</p>
<div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> 说明： </span><div class="notebody"><span><strong>高危特性声明</strong>：该功能使用过程中可能触及最终用户数据，符合业界惯例，但仍须谨慎使用。</span><p><span>通过迁移磁盘改变磁盘的存储位置，提供系统磁盘高可用性。如涉及用户数据，请在用户许可下迁移磁盘。</span></p>
</div></div>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，存储所在行中，选择<span class="menucascade">“<span class="uicontrol">更多</span> &gt; <span class="uicontrol">磁盘迁移</span>”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.8.1"></a><a name="1.2.8.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">导出存储列表</a></h4><p>将当前所有存储详细信息，导出到本地，并保存为*.xls文件，便于信息备份和统计。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击<span class="uicontrol">“导出”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.9.1"></a><a name="1.2.9.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">删除二级存储</a></h4><p>二级存储的添加与删除，仅是主存储的一种标识变化。删除二级存储，也仅是将此主存储的二级存储标识去除，不会删除存储中的数据。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="menucascade">“<span class="uicontrol">存储资源池</span> &gt; <span class="uicontrol">二级存储</span>”</span>界面</span>，存储所在行中，选择<span class="menucascade">“<span class="uicontrol">更多</span> &gt; <span class="uicontrol">删除</span>”</span>。</p>
<p>二级存储删除后，会从<span class="uicontrol">“二级存储”</span>界面转移显示在<span class="uicontrol">“主存储”</span>界面中。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.10.1"></a><a name="1.2.10.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">创建磁盘</a></h4><p>创建一个独立磁盘，创建完成的磁盘可以绑定给虚拟机使用，以便增加虚拟机的存储空间。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击存储名称，进入存储详情界面。在<span class="wintitle">“磁盘”</span>界面中，单击<span class="uicontrol">“创建”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.11.1"></a><a name="1.2.11.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">将磁盘绑定虚拟机</a></h4><p>磁盘绑定至虚拟机上后，虚拟机的数据才能够存储在磁盘中。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击存储名称，进入存储详情界面。在<span class="wintitle">“磁盘”</span>界面，磁盘所在行中，单击<span class="uicontrol">“绑定虚拟机”</span>。</p>
<div class="p" id="it_60_51_100020__addToOS"><a name="it_60_51_100020__addToOS"></a><a name="addToOS"></a>磁盘绑定成功后，还需在虚拟机中将磁盘添加至操作系统中。<ul><li>若绑定的磁盘是新创建的磁盘，则需对新增磁盘进行格式化。具体操作方法<span>可在互联网或<a href="http://support.huawei.com/ecommunity/bbs/list_1069,1079.html?tclass=605" target="_blank">技术论坛</a>中查找获取</span>。</li><li>若绑定的磁盘是已有数据的磁盘，且磁盘的盘符和虚拟机上的盘符相同，则需将磁盘由“脱机”设置为“联机”。</li></ul>
</div>
</div>

<div class="section"><a name="it_60_51_100020__1.2.12.1"></a><a name="1.2.12.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">将磁盘解绑定虚拟机</a></h4><p>将绑定在虚拟机中的磁盘解绑定。</p>
<div class="p">对运行中的虚拟机解绑定磁盘时，有如下约束：<ul><li><p>虚拟机已安装Tools，且Tools运行正常。</p>
</li><li>不支持解绑定虚拟机上的系统盘。</li><li>不支持解绑定虚拟机上的裸设备映射类型的磁盘。</li><li>仅以下操作系统的虚拟机支持在运行时解绑定磁盘：<ul><li>Windows Server 2008 R2 Enterprise 64位</li><li>Red Hat Linux Enterprise 5.7/5.8/6.5 （32位或64位）</li><li>CentOS 5.7/5.8/6.5 （32位或64位）</li></ul>
</li></ul>
</div>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击存储名称，进入存储详情界面。在<span class="wintitle">“磁盘”</span>界面，展开磁盘详情，在绑定的虚拟机所在行中，单击<span class="uicontrol">“解绑定”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.13.1"></a><a name="1.2.13.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">分配磁盘</a></h4><p>管理员将磁盘分配给指定VPC所属的VDC的管理员。分配后，请通知VPC所属VDC的管理员，及时分配磁盘给指定用户。若磁盘已绑定虚拟机，则不可单独分配该磁盘。建议对该虚拟机进行分配。</p>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击存储名称，进入存储详情界面。在<span class="wintitle">“磁盘”</span>界面中，勾选磁盘，并单击<span class="uicontrol">“分配”</span>。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.14.1"></a><a name="1.2.14.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">删除磁盘</a></h4><p id="it_60_51_100020__delDisk_define"><a name="it_60_51_100020__delDisk_define"></a><a name="delDisk_define"></a>当磁盘不再使用时，删除磁盘，以释放虚拟资源。删除磁盘的同时，会同时删除所有磁盘数据，请谨慎操作。</p>
<div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> 说明： </span><div class="notebody"><span><strong>高危特性声明</strong>：该功能使用过程中可能触及最终用户数据，符合业界惯例，但仍须谨慎使用。</span></div></div>
<div class="p">删除磁盘分为两种方式：<ul><li>普通删除：通过破坏磁盘的文件系统，使得磁盘数据无法再被访问，安全性较差。删除速度快，但存在通过残余信息恢复数据访问的可能。</li><li>安全删除：通过覆盖性擦写对磁盘对应的物理存储空间进行数据删除，避免数据被恢复，安全性高。删除速度较慢，且删除时会占用系统资源。</li></ul>
</div>
<p><span>在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，在<span class="uicontrol">“存储资源池”</span>界面</span>，单击存储名称，进入存储详情界面。在<span class="wintitle">“磁盘”</span>界面，磁盘所在行中，单击<span class="uicontrol">“更多”</span>并选择对应操作。</p>
</div>

<div class="section"><a name="it_60_51_100020__1.2.15.1"></a><a name="1.2.15.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100020" class="sectiontitle2contents">FAQ</a></h4><p><strong>如何将裸设备映射的磁盘，从虚拟机解绑定后，再绑定给物理服务器</strong></p>
<div class="p">当解绑定的磁盘为裸设备映射的磁盘时，如需将该磁盘对应的LUN，再绑定到物理服务器上，需注意以下事项：<ul><li>不能删除裸设备映射的磁盘和数据存储</li><li>绑定到物理服务器之前，需先添加设备分区</li></ul>
具体操作请参见<a href="../../05_fc/vm_prov/it_58_45_400012.html">如何将裸设备映射的磁盘，从虚拟机解绑定后，再绑定给物理服务器</a>。</div>
</div>

<div class="section"><div class="p"><pre class="screen"> </pre>
</div>
<p><span><a href="http://enterprise.huawei.com/topic/FusionCloud_2013/index.html" target="_blank">文档中心</a></span><span> | </span><span><a href="http://support.huawei.com/ecommunity/bbs/list_1069,1079.html?tclass=605" target="_blank">技术论坛</a></span></p>
</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">华为专有和保密信息</div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>