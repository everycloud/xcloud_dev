<div class="resources-extNetwork-detail">
    <div class="innerbox-padding">
        <div class="row-fluid margin-top-beautifier">
            <div class="span12">
                {{i18n.common_term_desc_label}}: <span ng-bind="networkInfo.description"
                                                       style="width:1200px; white-space: normal;word-break: break-word;"></span>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span5 margin-top-beautifier">
                <div class="inner-legend none-line"><span ng-hide="null==networkInfo.ipv4Subnet">IPv4</span><span
                        ng-hide="null==networkInfo.ipv4Subnet || null==networkInfo.ipv6Subnet">/</span><span
                        ng-hide="null==networkInfo.ipv6Subnet">IPv6</span></div>
                <tiny-table id="networkTable.id" caption="networkTable.caption" data="networkTable.data"
                            columns="networkTable.columns"
                            enable-pagination="networkTable.enablePagination" render-row="networkTable.renderRow"
                            columns-draggable="networkTable.columnsDraggable"></tiny-table>
            </div>
            <div class="span1">
            </div>
            <div class="span6">
                <div class="margin-top-beautifier">
                    <div class="inner-legend">Qos</div>
                    <div>
                        <div class="row-fluid">
                            <div class="span5">
                                <div ng-if="!networkInfo.portSetting.outTrafficShapingPolicyFlag">
                                    {{i18n.common_term_sendSpeedLimitSet_label}}:{{i18n.common_term_no_label}}
                                </div>
                                <div ng-if="networkInfo.portSetting.outTrafficShapingPolicyFlag">
                                    {{i18n.common_term_sendSpeedLimitSet_label}}:
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.perform_term_sendBandAvg_label}}(Mbit/s):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.outTrafficShapingPolicy.averageBandwidth"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.perform_term_sendBandPeak_label}}(Mbit/s):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.outTrafficShapingPolicy.peakBandwidth"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.common_term_sendGusty_label}}(Mbits):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.outTrafficShapingPolicy.burstSize"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.common_term_priority_label}}:
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.outTrafficShapingPolicy.priorityStr"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="span2">
                            </div>
                            <div class="span5">
                                <div ng-if="!networkInfo.portSetting.inTrafficShapingPolicyFlag">
                                    {{i18n.common_term_receiveSpeedLimitSet_button}}:{{i18n.common_term_no_label}}
                                </div>
                                <div ng-if="networkInfo.portSetting.inTrafficShapingPolicyFlag">
                                    {{i18n.common_term_receiveSpeedLimitSet_button}}:
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.perform_term_receiveBandAvg_label}}(Mbit/s):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.inTrafficShapingPolicy.averageBandwidth"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.perform_term_receiveBandPeak_label}}(Mbit/s):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.inTrafficShapingPolicy.peakBandwidth"></span>
                                        </div>
                                    </div>
                                    <div class="row-fluid margin-top-beautifier">
                                        <div class="color2">
                                            {{i18n.common_term_receiveGusty_label}}(Mbits):
                                        </div>
                                        <div>
                                            <span ng-bind="networkInfo.portSetting.inTrafficShapingPolicy.burstSize"></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row-fluid margin-top-beautifier">
                            <div class="span5">
                                <div class="row-fluid margin-top-beautifier">
                                    <div class="color2">
                                        {{i18n.common_term_ARPsuppression_label}}:
                                    </div>
                                    <div>
                                        <span ng-if="'0'==networkInfo.portSetting.arpPacketSuppression">{{i18n.common_term_notBate_value}}</span>
                                        <span ng-if="'0'!=networkInfo.portSetting.arpPacketSuppression"
                                              ng-bind="networkInfo.portSetting.arpPacketSuppression"></span>
                                    </div>
                                </div>
                                <div class="row-fluid margin-top-beautifier">
                                    <div class="color2">
                                        {{i18n.common_term_IPsuppression_label}}:
                                    </div>
                                    <div>
                                        <span ng-if="'0'==networkInfo.portSetting.ipPacketSuppression">{{i18n.common_term_notBate_value}}</span>
                                        <span ng-if="'0'!=networkInfo.portSetting.ipPacketSuppression"
                                              ng-bind="networkInfo.portSetting.ipPacketSuppression"></span>
                                    </div>
                                </div>
                                <div class="row-fluid margin-top-beautifier">
                                    <div class="color2">
                                        {{i18n.vpc_term_DHCPisolation_label}}:
                                    </div>
                                    <div>
                                        <span ng-if="!networkInfo.portSetting.dhcpIsolationFlag">{{i18n.common_term_notIsolation_value}}</span>
                                        <span ng-if="networkInfo.portSetting.dhcpIsolationFlag">{{i18n.common_term_isolation_value}}</span>
                                    </div>
                                </div>
                                <div class="row-fluid margin-top-beautifier">
                                    <div class="color2">
                                        {{i18n.common_term_IPbondMAC_label}}:
                                    </div>
                                    <div>
                                        <span ng-if="!networkInfo.portSetting.ipMacBindFlag">{{i18n.common_term_noBond_value}}</span>
                                        <span ng-if="networkInfo.portSetting.ipMacBindFlag">{{i18n.common_term_bonded_value}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    require(["jquery",
        "app/business/resources/controllers/rpool/zone/zoneResources/network/extNetwork/extNetworkDetailCtrl",
        "app/business/resources/controllers/constants"],
            function ($, extNetworkDetailCtrl, constants) {
                var zoneId = $(".resources-extNetwork-detail").parent().parent().parent().prev().attr("zoneId");
                var exnetworkID = $(".resources-extNetwork-detail").parent().parent().parent().prev().attr("exnetworkID");
                //替换ID，使ID唯一
                var index = $(".resources-extNetwork-detail").parent().parent().parent().prev().attr("index");
                var classStr = "resources-extNetwork-detail" + index;
                $(".resources-extNetwork-detail").attr("class", classStr);
                $("." + classStr).attr("ng-controller", "extNetworkDetailCtrl");

                //编译
                var dep = ['ng', 'wcc', extNetworkDetailCtrl.name];
                dep.unshift(["$provide", function ($provide) {
                    $provide.value("$rootElement", $("." + classStr));
                }]);
                var $injector = angular.injector(dep);
                $injector.invoke(function ($compile, $rootScope) {
                    $compile($("." + classStr))($rootScope);
                    $rootScope.$digest();
                });

                // 3.初始化scope
                var newScope = $("." + classStr).scope();
                newScope.$apply(function () {
                    newScope.exnetworkID = exnetworkID;
                    newScope.operator.queryDetailInfo(zoneId, exnetworkID);
                });
            });
</script>