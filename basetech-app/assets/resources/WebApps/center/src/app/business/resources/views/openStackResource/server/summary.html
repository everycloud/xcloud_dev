<link href="../theme/default/css/line_plot.css" type="text/css" rel="stylesheet"/>

<div class="container-fluid">
    <div class="pull-right m50">
        <tiny-button class="major-btn" id="startButton.id" text="startButton.text" click="startButton.click()"></tiny-button>
        <tiny-button id="stopButton.id" text="stopButton.text" click="stopButton.click()"></tiny-button>
        <tiny-button id="refreshButton.id" text="refreshButton.text"
                     click="refreshButton.click()"></tiny-button>

        <div class="btn-group bottom5">
            <a class="dropdown-toggle btn-link tiny-button-buttonDefault" data-toggle="dropdown">
                <div class="tiny-button tiny-button-buttonInnerClass">
                    <div class="tiny-right">
                        <div class="tiny-center">
                            <div class="tiny-leftImg" style="display: none;"></div>
                            <span class="ecsVmsMoreHover tiny-button-buttonCenterText major-btn">{{i18n.common_term_more_button}}</span><span
                                class="tiny-menubutton-caret"></span>

                            <div class="tiny-rightImg" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </a>
            <ul class="dropdown-menu vmOptWidth">
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'RESCUED' && status != 'SHUTOFF' && status != 'ERROR' || middleStatus}"
                    ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="forceStop()" ng-bind="operations.forceStop"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'PAUSED' && status != 'SHUTOFF' && status != 'SUSPENDED' || middleStatus}"
                    ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="reboot()" ng-bind="operations.reboot"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'PAUSED' && status != 'SHUTOFF' && status != 'SUSPENDED' || middleStatus}"
                    ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="forceReboot()" ng-bind="operations.forceReboot"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'PAUSED' || middleStatus}"
                    ng-show="competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="reboot()" ng-bind="operations.reboot"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'PAUSED' || middleStatus}"
                    ng-show="competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="forceReboot()" ng-bind="operations.forceReboot"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'RESCUED' || middleStatus}">
                    <a class="btn-link" ng-click="suspend()" ng-bind="operations.suspend"></a>
                </li>
                <li ng-class="{disabled: status != 'SUSPENDED' || middleStatus}">
                    <a class="btn-link" ng-click="resume()" ng-bind="operations.resume"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' && status != 'RESCUED' || middleStatus}"
                    ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="pause()" ng-bind="operations.pause"></a>
                </li>
                <li ng-class="{disabled: status != 'PAUSED' || middleStatus}" ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="unpause()" ng-bind="operations.unpause"></a>
                </li>
                <li class="divider-line"></li>
                <li ng-class="{disabled: status != 'SHUTOFF' && status != 'ACTIVE' || middleStatus}" ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="migrate()" ng-bind="i18n.vm_term_migrateCold_button"></a>
                </li>
                <li ng-class="{disabled: status != 'ACTIVE' || middleStatus}" ng-show="!competition.isBaseOnVmware">
                    <a class="btn-link" ng-click="liveMigrate()" ng-bind="i18n.vm_term_migrateLive_button"></a>
                </li>
                <li ng-class="{disabled: status != 'VERIFY_RESIZE' || middleStatus}">
                    <a class="btn-link" ng-click="confirmResize()" ng-bind="i18n.vm_term_confirmModify_button"></a>
                </li>
            </ul>
        </div>
    </div>
    <div class="crumbs">
        <ul class="breadcrumb">
            <li>
                <a ui-sref="vdcMgr.vdc.server">{{i18n.common_term_vms_label}}</a> <span class="divider">&gt;</span>
            </li>
            <li class="active"><a ui-sref="vdcMgr.serverInfo.summary">{{vmName}}</a><span class="divider">&gt;</span></li>
            <li class="active">{{i18n.common_term_summary_label}}</li>
        </ul>
        <ul class="nav nav-list noPadding">
            <li class="two-lead">
                <p></p>
            </li>
            <li class="divider"></li>
        </ul>
    </div>
    <div id="vmInfoSummaryDiv" class="container-fluid">
        <span id="vnc-applet-id"></span>
        <span id="checkJRE"></span>

        <div class="content-right-box clearfix">
            <div class="row-fluid">
                <div class="span5">
                    <div class="outbox-padding">
                        <div class="legend" ng-bind="i18n.common_term_basicInfo_label"></div>
                        <tiny-formfield>
                            <tiny-item label="label.name">
                                <div ng-if="!nameItem.modifying">
                                    <span ng-bind="nameItem.value" style="width: 200px;word-break:break-all"
                                          id="vmInfoNameSpan"></span>
                                <span class="btn-link" ng-click="nameItem.clickModify()">
                                <img src="../theme/default/images/gm/edit.gif"/>
                            </span>
                                </div>
                                <div ng-if="nameItem.modifying" id="serverNameTextboxDiv">
                                    <tiny-textbox id="nameItem.id" value="nameItem.value" blur="nameItem.blur()"
                                                  keypressfn="nameItem.keypressfn" width="150"
                                                  validate="nameItem.validate"></tiny-textbox>
                                </div>
                            </tiny-item>
                            <tiny-item label="label.vmId">
                                {{vmId}}
                            </tiny-item>
                            <tiny-item label="label.ip">
                                <div class="autoWrap">{{ip}}</div>
                            </tiny-item>
                            <tiny-item label="label.mac">
                                <div class="autoWrap">{{mac}}</div>
                            </tiny-item>
                            <tiny-item label="label.status">
                                {{statusStr}}
                            </tiny-item>
                            <tiny-item label="label.taskStatus">
                                {{taskStatusStr}}
                            </tiny-item>
                            <tiny-item label="label.host">
                                {{hostName}}
                            </tiny-item>
                            <tiny-item label="label.az">
                                {{az}}
                            </tiny-item>
                            <tiny-item label="label.createTime">
                                {{createTime}}
                            </tiny-item>
                            <tiny-item label="label.image" display="isICT">
                                {{image.id}}
                            </tiny-item>
                        </tiny-formfield>
                    </div>
                </div>
                <div class="span7">
                    <div class="outbox-padding">
                        <div class="legend" ng-bind="i18n.common_term_attachmentInfo_label"></div>
                        <div class="clearfix">
                            <tiny-table id="metaDataTable.id" data="metaDataTable.data" columns-draggable="metaDataTable.columnsDraggable"
                                        columns='metaDataTable.columns' render-row="metaDataTable.renderRow"
                                        enable-pagination="metaDataTable.enablePagination"></tiny-table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid" ng-show="!competition.isBaseOnVmware">
                <div class="outbox-padding">
                    <div class="legend" ng-bind="i18n.common_term_monitorInfo_label"></div>
                    <div>
                        <div class="row-fluid">
                            <div class="row-fluid top10 bottom10">
                                <div id="vm_chart"></div>
                            </div>
                            <div class="row-fluid  line-height30">
                                <div class="span5">
                                    <div>{{i18n.common_term_netOutRate_label}}：{{net_io_out}}KB/s</div>
                                </div>
                                <div class="span5">
                                    <div>{{i18n.common_term_netInRate_label}}：{{net_io_in}}KB/s</div>
                                </div>
                            </div>
                            <div class="row-fluid  line-height30">
                                <div class="span5">
                                    <div>{{i18n.common_term_diskIOwrite_label}}：{{disk_io_in}}KB/s</div>
                                </div>
                                <div class="span5">
                                    <div>{{i18n.common_term_diskIOread_label}}：{{disk_io_out}}KB/s</div>
                                </div>
                            </div>
                            <div class="row-fluid  line-height30">
                                <div class="span10">
                                    <div>{{i18n.common_term_diskIOreadNum_label}}：{{disk_out_ps}}{{unit}}/s</div>
                                </div>
                            </div>
                            <div class="row-fluid  line-height30">
                                <div class="span10">
                                    <div>{{i18n.common_term_diskIOwriteNum_label}}：{{disk_in_ps}}{{unit}}/s</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
