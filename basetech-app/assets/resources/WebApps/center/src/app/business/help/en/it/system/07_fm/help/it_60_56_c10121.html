
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Importing a VSA VM Template">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_56_c10121">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>Importing a VSA VM Template</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("FAQ\nImporting a VSA VM Template");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_faq.html\">FAQ<\/a> > Importing a VSA VM Template<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_56_c10121"></a><a name="it_60_56_c10121"></a>


<h1 class="topictitle1">Importing a VSA VM Template</h1>
<ul><li><a href="#it_60_56_c10121__1.2.1.1">Scenarios</a></li><li><a href="#it_60_56_c10121__1.2.2.1">Prerequisites</a></li><li><a href="#it_60_56_c10121__1.2.3.1">Procedure</a></li></ul>
<div>
<div class="section"><a name="it_60_56_c10121__1.2.1.1"></a><a name="1.2.1.1"></a><h4 class="sectiontitle"><a href="#it_60_56_c10121" class="sectiontitle2contents">Scenarios</a></h4>


<div class="p"><p>To apply for a virtual software firewall for a virtual
private cloud (VPC), create a network whose IP address is assigned
by an internal Dynamic Host Configuration Protocol (DHCP) server,
or create a software load balancer (SLB), import a Virtual Service
Application (VSA) VM template to <span>FusionManager</span> and use it to create a VSA VM providing the preceding functions.
Users do not need to create VMs using this template. </p>
<p>The process
for importing a VSA VM template to <span>FusionManager</span> is as follows:</p>
<div class="p" id="it_60_56_c10121__process"><a name="it_60_56_c10121__process"></a><a name="process"></a><ol><li>In the hypervisor, import the template.</li><li>On <span>FusionManager</span>, discover the template in the hypervisor.</li><li>On <span>FusionManager</span>, change the template type.</li></ol>
This section uses the <span>FusionCompute</span> hypervisor
as an example to describe how to import the templates to <span>FusionManager</span>.</div>
</div>

</div>

<div class="section"><a name="it_60_56_c10121__1.2.2.1"></a><a name="1.2.2.1"></a><h4 class="sectiontitle"><a href="#it_60_56_c10121" class="sectiontitle2contents">Prerequisites</a></h4>


<div class="p"><a name="it_60_56_c10121__condition"></a><a name="condition"></a><ul id="it_60_56_c10121__condition"><li>You have obtained the username and password for logging in to <span>FusionCompute</span>.</li><li>You have obtained the username and password of the system administrator
account for logging in to <span>FusionManager</span>.</li><li><p>You have obtained the VSA template <span class="filepath"><b>FusionCompute
V100R005C00SPC200_VSA.zip</b></span>.</p>
<div class="p">The paths are as follows:<ul><li><p>For
enterprise users, visit http://support.huawei.com/enterprise and choose <span class="menucascade"><b><span class="uicontrol">Software</span></b> &gt; <b><span class="uicontrol">IT</span></b> &gt; <b><span class="uicontrol">FusionCloud</span></b> &gt; <b><span class="uicontrol">FusionSphere</span></b> &gt; <b><span class="uicontrol">FusionCompute</span></b> &gt; <b><span class="uicontrol">V100R005C00SPC100</span></b></span>.</p>
</li><li><p>For carrier users,
visit http://support.huawei.com and choose <span class="menucascade"><b><span class="uicontrol">Software</span></b> &gt; <b><span class="uicontrol">Carrier Software &amp; Core Network </span></b> &gt; <b><span class="uicontrol">Carrier Cloud Computing</span></b> &gt; <b><span class="uicontrol">IT Cloud
Infrastructure Solution</span></b> &gt; <b><span class="uicontrol">Cloud OS</span></b> &gt; <b><span class="uicontrol">FusionCompute</span></b> &gt; <b><span class="uicontrol">V100R005C00SPC100</span></b></span>.</p>
</li></ul>
<div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> NOTE: </span><div class="notebody">Verify the obtained software packages.
For details, see <a href="../soft_inst/it_60_23_000021.html">Verifying Software Packages</a>.</div></div>
</div>
</li></ul>
</div>

</div>

<div class="section"><a name="it_60_56_c10121__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_56_c10121" class="sectiontitle2contents">Procedure</a></h4>

<ul><div class="HandlingTitled"><p class="sectiontitle">Create a VSA VM in the hypervisor.</p>
<div class="Steps-titled"><ol type="1" start="1"><li><span>Decompress <span class="filepath"><b>FusionCompute
V100R005C00SPC200_VSA.zip</b></span> on the local PC.</span>
<p>The following files are obtained:<ul><li><span class="filepath"><b>FusionCompute_V100R005C00SPC200_VSA.ovf</b></span></li><li><span class="filepath"><b>FusionCompute_V100R005C00SPC1200_VSA-1.vhd</b></span></li></ul>
</p>
</li><li id="it_60_56_c10121__GE_VM"><a name="it_60_56_c10121__GE_VM"></a><a name="GE_VM"></a><span>Log in to <span>FusionCompute</span> and click <span class="uicontrol"><b>VM and Template</b></span>.</span>
<p>The <span class="wintitle"><b>VM and Template</b></span> page is displayed.</p>
</li><li><span>Click <span class="uicontrol"><b>Import Template</b></span>.</span>
<p>The <span class="wintitle"><b>Select Import Source</b></span> page is displayed.</p>
</li><li><span>Select <span class="uicontrol"><b>Shared directory</b></span> and click <span class="uicontrol"><b>Next</b></span>.</span>
<p>The <span class="wintitle"><b>Import Template</b></span> page is displayed.</p>
</li><li><span>Configure
the template importing information.</span>
<p><ul><li><span>Template file</span>: select template <span class="filepath"><b>FusionCompute_V100R005C00SPC200_VSA.ovf</b></span>.</li><li><span>File path</span>: <span>The path format is <span class="filepath"><b>\\<i><span class="varname">IP address of the
shared server</span></i>\<i><span class="varname">name of the folder in which the template
file is located</span></i></b></span>.</span></li><li><span>Username and Password</span>: <ul><li><span>Only a shared server that runs the Windows XP
SP1 OS supports logins without passwords.</span></li><li><span>If a username is registered in multiple domains,
enter the username with the specified domain name. For example, enter <span class="parmvalue"><b>Domain\w00123456</b></span>.</span></li></ul>
</li></ul>
</p>
</li><li><span>Click <span class="uicontrol"><b>Next</b></span>.</span>
<p>The <span class="wintitle"><b>VM Settings</b></span> page is displayed.</p>
</li><li><span>Select a management cluster as the creation location
for the VSA VM.</span></li><li><span>Configure the data store and configuration mode for
the VM disks and select <span class="uicontrol"><b>Persistent</b></span>.</span>
<p>You are advised to deploy the VSA VM using shared storage resources.
Otherwise, the VSA may fail to be deployed in multiple clusters at
the same time. </p>
</li><li><span>Click <span class="uicontrol"><b>Next</b></span>.</span>
<p>The <span class="wintitle"><b>VM Attributes</b></span> page is displayed.</p>
</li><li><span>Enter the VSA VM name.</span></li><li><span>Use the default values of other options and click <span class="uicontrol"><b>Next</b></span>.</span>
<p>The <span class="uicontrol"><b>Confirm</b></span> page is displayed.</p>
</li><li><span>Click <span class="uicontrol"><b>Finish</b></span> to import the VSA
VM template.</span>
<p><div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> NOTE: </span><div class="notebody">If the local PC where the template
is located runs the Windows 7 operating system (OS), an error message
"The CNA failed to connect to the shared directory" may be displayed
due to the OS settings. To address this problem, perform the following
operations:<ol type="a"><li>On the local PC, click <span class="uicontrol"><b>Start</b></span>, enter <span class="userinput"><b>regedit</b></span> in the search box, and press <span class="uicontrol"><b>Enter</b></span>.</li><li>Choose <span class="menucascade"><b><span class="uicontrol">HKEY_LOCAL_MACHINE</span></b> &gt; <b><span class="uicontrol">SYSTEM</span></b> &gt; <b><span class="uicontrol">CurrentControlSet</span></b> &gt; <b><span class="uicontrol">Control</span></b> &gt; <b><span class="uicontrol">Session Manager</span></b> &gt; <b><span class="uicontrol">Memory Management</span></b></span>, and change
the value of <span class="parmname"><b>LargeSystemCache</b></span> to <span class="parmvalue"><b>1</b></span>.</li><li>Choose <span class="menucascade"><b><span class="uicontrol">HKEY_LOCAL_MACHINE</span></b> &gt; <b><span class="uicontrol">SYSTEM</span></b> &gt; <b><span class="uicontrol">CurrentControlSet</span></b> &gt; <b><span class="uicontrol">Services</span></b> &gt; <b><span class="uicontrol">LanmanServer</span></b> &gt; <b><span class="uicontrol">Parameters</span></b></span>, and change the value
of <span class="parmname"><b>Size</b></span> to <span class="parmvalue"><b>3</b></span>.</li><li>Restart the local PC, and import the VM using the VM template
again.</li></ol>
</div></div>
</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Discover the VSA template on <span>FusionManager</span>.</p>
<a name="it_60_56_c10121__discover"></a><a name="discover"></a><div class="Steps-titled"><ol type="1" start="13" id="it_60_56_c10121__discover"><li><span>Log in to <span>FusionManager</span> as the system and choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Templates and Specs</span></b> &gt; <b><span class="uicontrol">VM Templates</span></b></span>.</span>
<p>The <span class="wintitle"><b>VM Templates</b></span> page is displayed.</p>
</li><li><span>Click <span class="uicontrol"><b>Discover</b></span>.</span>
<p>A dialog box is displayed.</p>
</li><li><span>Select the hypervisor to which the template is imported
and click <span class="uicontrol"><b>Discover</b></span>.</span>
<p>A dialog box is displayed.</p>
</li><li><span>Click <span class="uicontrol"><b>OK</b></span>.</span>
<p>You can view the task process on the <span class="wintitle"><b>Task Center</b></span> page. After the newly imported template is discovered, its information
is displayed on the <span class="wintitle"><b>VM Templates</b></span> page.</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Modify the VSA VM template type to <span class="parmvalue"><b>VSA Template</b></span>.</p>
<div class="Steps-titled"><ol type="1" start="17"><li><span>Locate the row that contains the target VSA VM template,
click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Modify VM
Template Information</b></span>.</span>
<p>The <span class="wintitle"><b>Modify VM Template Information</b></span> dialog
box is displayed.</p>
</li><li><span>Set <span class="parmname"><b>Type</b></span> to <span class="parmvalue"><b>VSA Template</b></span> and click <span class="uicontrol"><b>Complete</b></span>.</span></li><li><span>If <span>FusionManager</span> has multiple hypervisors, repeat the preceding operations to import
all the VSA VM templates in these hypervisors.</span></li></ol></div>
</div>
</ul>

</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>