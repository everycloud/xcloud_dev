
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="VPN">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_000013">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>VPN</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("Resource Configuration\nFeature Configuration\nVPN");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_100012.html\">Resource Configuration<\/a> > <a href=\"../father_node/it_60_99_100013.html\">Feature Configuration<\/a> > VPN<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_000013"></a><a name="it_60_51_000013"></a>



<h1 class="topictitle1">VPN</h1>
<ul><li><a href="#it_60_51_000013__1.2.1.1">Overview</a></li><li><a href="#it_60_51_000013__1.2.2.1">Principles</a></li><li><a href="#it_60_51_000013__1.2.3.1">Notes</a></li><li><a href="#it_60_51_000013__1.2.4.1">Software to be prepared</a></li><li><a href="#it_60_51_000013__1.2.5.1">Configuration Process</a></li></ul>

<div>
<div class="section" id="it_60_51_000013__sec_overView"><a name="it_60_51_000013__sec_overView"></a><a name="sec_overView"></a><a name="it_60_51_000013__1.2.1.1"></a><a name="1.2.1.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000013" class="sectiontitle2contents">Overview</a></h4><p>A virtual private
network (VPN) provides an encrypted communication channel between
remote users and their virtual private clouds (VPCs) so that the users
can use VPC service resources directly through the VPN.</p>
<p><span>FusionManager</span> supports two VPN protocols: Internet Protocol Security (IPSec)
and Layer Two Tunneling Protocol (L2TP).</p>
<ul><li>IPSec VPNs are used for communication between enterprise headquarters
and branches by setting up an encrypted VPN tunnel between the VPN
gateway and the remote user network gateway.</li><li>L2TP VPNs are used for enterprise employees on business trips
to connect to the enterprise network over the Internet. Such connections
are set up between the VPN clients and the VPN gateway.</li></ul>
</div>

<div class="section" id="it_60_51_000013__sec_principle"><a name="it_60_51_000013__sec_principle"></a><a name="sec_principle"></a><a name="it_60_51_000013__1.2.2.1"></a><a name="1.2.2.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000013" class="sectiontitle2contents">Principles</a></h4><p><strong>IPSec VPN</strong></p>
<p>IPSec provides a method to build and manage a secure transmission
tunnel, in which the transmitted data packets can be authenticated
and encrypted to protect the data from being viewed by changed by
unauthorized users.</p>
<p><a href="#it_60_51_000013__fig_ipsec">Figure 1</a> shows the
networking of a typical IPSec VPN network. In this network, the VPN
gateway and the remote network gateway both support IPSec, and the
data transmitted between the two gateways is encrypted. The data transmitted
between users and the remote network gateway and the data transmitted
between VPN servers and the VPN gateway is not encrypted.</p>
<div class="fignone" id="it_60_51_000013__fig_ipsec"><a name="it_60_51_000013__fig_ipsec"></a><a name="fig_ipsec"></a><span class="figcap"><b>Figure 1 </b>IPSec VPN network</span>

<br><span><img src="fig/fig_it_60_51_000013_01.png"></span></div>
<p><strong>L2TP VPN</strong></p>
<p>When an enterprise employee accesses a VPN
server remotely, the VPN client initiates a tunnel setup request to
the L2TP network server (LNS), then the LNS server assigns an IP address
to the VPN client and establishes an L2TP over IPSec tunnel between
the VPN client and the VPN gateway. <a href="#it_60_51_000013__fig_l2tp">Figure 2</a> shows this process.</p>
<div class="fignone" id="it_60_51_000013__fig_l2tp"><a name="it_60_51_000013__fig_l2tp"></a><a name="fig_l2tp"></a><span class="figcap"><b>Figure 2 </b>L2TP VPN network</span>

<br><span><img src="fig/fig_it_60_51_000013_02.png"></span></div>
</div>

<div class="section" id="it_60_51_000013__sec_caution"><a name="it_60_51_000013__sec_caution"></a><a name="sec_caution"></a><a name="it_60_51_000013__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000013" class="sectiontitle2contents">Notes</a></h4><ul><li>The remote user network is connected to the virtual router in
the VPC.</li><li>Hardware routers support both IPSec and L2TP VPNs. Software routers
support only IPSec VPNs.</li><li>Only one type of VPN, IPSec or L2TP, can be configured for a VPC.</li></ul>
</div>

<div class="section"><a name="it_60_51_000013__1.2.4.1"></a><a name="1.2.4.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000013" class="sectiontitle2contents">Software to be prepared</a></h4><p><a href="#it_60_51_000013__tbl_01">Table 1</a> lists the software required for FusionManager to implement
VPN functions using a software router.</p>

<div class="tablenoborder"><a name="it_60_51_000013__tbl_01"></a><a name="tbl_01"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000013__tbl_01" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Software</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="23%" id="mcps1.2.4.3.2.4.1.1"><p>Name</p>
</th>

<th class="cellrowborder" valign="top" width="35.75%" id="mcps1.2.4.3.2.4.1.2"><p>Description</p>
</th>

<th class="cellrowborder" valign="top" width="41.25%" id="mcps1.2.4.3.2.4.1.3"><p>How to Obtain</p>
</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.4.3.2.4.1.1 "><span class="filepath"><b>FusionCompute
V100R005C00SPC200_VSA.zip</b></span></td>

<td class="cellrowborder" valign="top" width="35.75%" headers="mcps1.2.4.3.2.4.1.2 "><p>System service VM template. Upon receiving a request for
creating a software firewall, the system automatically uses this template
to create a VM to provide firewall functions.</p>
</td>

<td class="cellrowborder" valign="top" width="41.25%" headers="mcps1.2.4.3.2.4.1.3 "><div class="p" id="it_60_51_000013__d814e114"><a name="it_60_51_000013__d814e114"></a><a name="d814e114"></a><ul><li><p>For
enterprise users, visit http://support.huawei.com/enterprise and choose <span class="menucascade"><b><span class="uicontrol">Software</span></b> &gt; <b><span class="uicontrol">IT</span></b> &gt; <b><span class="uicontrol">FusionCloud</span></b> &gt; <b><span class="uicontrol">FusionSphere</span></b> &gt; <b><span class="uicontrol">FusionCompute</span></b> &gt; <b><span class="uicontrol">V100R005C00SPC100</span></b></span>.</p>
</li><li><p>For carrier users,
visit http://support.huawei.com and choose <span class="menucascade"><b><span class="uicontrol">Software</span></b> &gt; <b><span class="uicontrol">Carrier Software &amp; Core Network </span></b> &gt; <b><span class="uicontrol">Carrier Cloud Computing</span></b> &gt; <b><span class="uicontrol">IT Cloud
Infrastructure Solution</span></b> &gt; <b><span class="uicontrol">Cloud OS</span></b> &gt; <b><span class="uicontrol">FusionCompute</span></b> &gt; <b><span class="uicontrol">V100R005C00SPC100</span></b></span>.</p>
</li></ul>
</div>
</td>

</tr>

</tbody>

</table>
</div>
<div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> NOTE: </span><div class="notebody">Verify the obtained software packages.
For details, see <a href="../soft_inst/it_60_23_000021.html">Verifying Software Packages</a>.</div></div>
</div>

<div class="section"><a name="it_60_51_000013__1.2.5.1"></a><a name="1.2.5.1"></a><h4 class="sectiontitle"><a href="#it_60_51_000013" class="sectiontitle2contents">Configuration Process</a></h4><p><a href="#it_60_51_000013__fig_01">Figure 3</a> shows the process for configuring a VPN on a hardware router.</p>
<div class="p"><div class="fignone" id="it_60_51_000013__fig_01"><a name="it_60_51_000013__fig_01"></a><a name="fig_01"></a><span class="figcap"><b>Figure 3 </b>Configuration process</span>

<br><span><img src="fig/fig_it_60_51_000013_5.png"></span></div>
</div>
<p><a href="#it_60_51_000013__tab_01">Table 2</a> describes the involved tasks.</p>

<div class="tablenoborder"><a name="it_60_51_000013__tab_01"></a><a name="tab_01"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000013__tab_01" frame="border" border="1" rules="all"><caption><b>Table 2 </b>Task description</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="17.277486910994764%" id="mcps1.2.5.5.2.4.1.1"><p>Task</p>
</th>

<th class="cellrowborder" valign="top" width="55.23560209424083%" id="mcps1.2.5.5.2.4.1.2"><p>Description</p>
</th>

<th class="cellrowborder" valign="top" width="27.486910994764397%" id="mcps1.2.5.5.2.4.1.3"><p>Web Client Navigation</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="17.277486910994764%" headers="mcps1.2.5.5.2.4.1.1 "><p>Connect a physical firewall device to the system.</p>
</td>

<td class="cellrowborder" valign="top" width="55.23560209424083%" headers="mcps1.2.5.5.2.4.1.2 "><p>Hardware firewalls can provide elastic IP address, network address translation (NAT), access control list (ACL), Application Specific Packet Filtering (ASPF), and virtual private network (VPN) functions. To configure and manage
these functions on <span>FusionManager</span>, you need to create virtual firewalls on the physical firewall device and add the physical firewall device to <span>FusionManager</span>.</p>
</td>

<td class="cellrowborder" valign="top" width="27.486910994764397%" headers="mcps1.2.5.5.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Devices</span></b> &gt; <b><span class="uicontrol">Network Devices</span></b> &gt; <b><span class="uicontrol">Firewalls</span></b></span>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.277486910994764%" headers="mcps1.2.5.5.2.4.1.1 "><p>Add a virtual local area network (VLAN) pool and associate
the VLAN pool with a distributed virtual switch (DVS).</p>
</td>

<td class="cellrowborder" valign="top" width="55.23560209424083%" headers="mcps1.2.5.5.2.4.1.2 "><p>Add the VLANs planned for routed networks to the VLAN pool on <span>FusionManager</span> and associate the VLANs with a DVS.</p>
</td>

<td class="cellrowborder" valign="top" width="27.486910994764397%" headers="mcps1.2.5.5.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Zones</span></b></span>, select a resource zone,
and choose <span class="menucascade"><b><span class="uicontrol">Network Resource Pools</span></b> &gt; <b><span class="uicontrol">VLAN Pools</span></b></span>.</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="17.277486910994764%" headers="mcps1.2.5.5.2.4.1.1 "><p>Add a public IP address pool.</p>
</td>

<td class="cellrowborder" valign="top" width="55.23560209424083%" headers="mcps1.2.5.5.2.4.1.2 "><p>A public IP address pool on <span>FusionManager</span> provides public IP addresses for tenants to apply for.</p>
<p>The VPN uses an elastic IP address as its gateway IP address.</p>
</td>

<td class="cellrowborder" valign="top" width="27.486910994764397%" headers="mcps1.2.5.5.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Zones</span></b></span>, select a resource zone,
and choose <span class="menucascade"><b><span class="uicontrol">Network Resource Pools</span></b> &gt; <b><span class="uicontrol">Public IP Address Pool</span></b></span>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.277486910994764%" headers="mcps1.2.5.5.2.4.1.1 "><p>Specify IP bandwidth specifications for the elastic IP address.</p>
</td>

<td class="cellrowborder" valign="top" width="55.23560209424083%" headers="mcps1.2.5.5.2.4.1.2 "><p>The IP bandwidth specifications include the IP packet receive and transmit bandwidths allowed for the obtained elastic IP address. When applying for an elastic IP address, the service administrator can select an IP bandwidth specifications
template to set the IP bandwidth limits for the obtained elastic IP address.</p>
</td>

<td class="cellrowborder" valign="top" width="27.486910994764397%" headers="mcps1.2.5.5.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">VDC</span></b> &gt; <b><span class="uicontrol">IP Bandwidth Spec</span></b></span>.</td>

</tr>

</tbody>

</table>
</div>
<p><a href="#it_60_51_000013__fig_02">Figure 4</a> shows the process for configuring
a VPN on a software router.</p>
<div class="p"><div class="fignone" id="it_60_51_000013__fig_02"><a name="it_60_51_000013__fig_02"></a><a name="fig_02"></a><span class="figcap"><b>Figure 4 </b>Configuration process</span>

<br><span><img src="fig/fig_it_60_51_000013_4.png"></span></div>
</div>
<p><a href="#it_60_51_000013__tab_02">Table 3</a> describes the involved tasks.</p>

<div class="tablenoborder"><a name="it_60_51_000013__tab_02"></a><a name="tab_02"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000013__tab_02" frame="border" border="1" rules="all"><caption><b>Table 3 </b>Task description</caption>
<thead align="left">
<tr>

<th class="cellrowborder" valign="top" width="17.098445595854923%" id="mcps1.2.5.9.2.4.1.1"><p>Task</p>
</th>

<th class="cellrowborder" valign="top" width="55.44041450777202%" id="mcps1.2.5.9.2.4.1.2"><p>Description</p>
</th>

<th class="cellrowborder" valign="top" width="27.461139896373055%" id="mcps1.2.5.9.2.4.1.3"><p>Web Client Navigation</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="17.098445595854923%" headers="mcps1.2.5.9.2.4.1.1 "><p>Create the Virtual Service Appliance Management (VSAM) VM
and connect it to the system.</p>
</td>

<td class="cellrowborder" valign="top" width="55.44041450777202%" headers="mcps1.2.5.9.2.4.1.2 "><p>If <span>FusionManager</span> requires system service VMs to provide functions, such as software routers, software load balancers, and Dynamic Host Configuration Protocol (DHCP)
services, the <span>FusionCompute</span> hypervisor with a VSAM node deployed must be used. The VSAM node is used to configure and manage system service VMs.</p>
</td>

<td class="cellrowborder" valign="top" width="27.461139896373055%" headers="mcps1.2.5.9.2.4.1.3 "><p><strong>Install the VSAM node.</strong></p>
<p>For details, see <span class="wintitle"><b>Installing VSAM</b></span> in the <i><cite><span>FusionManager V100R005C00
Software Installation Guide</span></cite></i>.</p>
<p><strong>Modify hypervisor settings.</strong></p>
<p>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Hypervisor</span></b></span>.</p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.098445595854923%" headers="mcps1.2.5.9.2.4.1.1 "><p>Add a VLAN pool and associate the VLAN pool with a DVS.</p>
</td>

<td class="cellrowborder" valign="top" width="55.44041450777202%" headers="mcps1.2.5.9.2.4.1.2 "><div class="p">Add the following VLANs to the VLAN pool:<ul><li>Routed network VLANs: Routed networks are used to deploy service VMs.</li><li>External network VLANs: External networks are used to connect to the software router in the VPC.</li></ul>
</div>
</td>

<td class="cellrowborder" valign="top" width="27.461139896373055%" headers="mcps1.2.5.9.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Zones</span></b></span>, select a resource zone,
and choose <span class="menucascade"><b><span class="uicontrol">Network Resource Pools</span></b> &gt; <b><span class="uicontrol">VLAN Pools</span></b></span>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.098445595854923%" headers="mcps1.2.5.9.2.4.1.1 "><p>Add an external network.</p>
</td>

<td class="cellrowborder" valign="top" width="55.44041450777202%" headers="mcps1.2.5.9.2.4.1.2 "><p>An external network can connect to the software router and provide public IP addresses for VMs associated with the routed network in the VPC. The external networks created on <span>FusionManager</span> must meet the following requirements: its connection mode is subnet (common VLAN), it is connected to the Internet, its subnet IP address assignment mode is static injection, and it
does not contain an IPv6 subnet.</p>
</td>

<td class="cellrowborder" valign="top" width="27.461139896373055%" headers="mcps1.2.5.9.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Zones</span></b></span>, select a resource zone,
and choose <span class="menucascade"><b><span class="uicontrol">Network Resource Pools</span></b> &gt; <b><span class="uicontrol">External Networks</span></b></span>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.098445595854923%" headers="mcps1.2.5.9.2.4.1.1 "><p>Add a VSA management network.</p>
</td>

<td class="cellrowborder" valign="top" width="55.44041450777202%" headers="mcps1.2.5.9.2.4.1.2 "><div class="p">The VSA management network provides the management plane for system service VMs. It must meet the following requirements:<ul><li>The VSA management network connects to the system management plane.</li><li>The VSA management network VLAN has been added to the DVS created on the FusionCompute hypervisor, but the VLAN is not contained in the <span>FusionManager</span> VLAN pool.</li></ul>
</div>
</td>

<td class="cellrowborder" valign="top" width="27.461139896373055%" headers="mcps1.2.5.9.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Zones</span></b></span>, select a resource zone,
and choose <span class="menucascade"><b><span class="uicontrol">Network Resource Pools</span></b> &gt; <b><span class="uicontrol">VSA Networks</span></b></span>.</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="17.098445595854923%" headers="mcps1.2.5.9.2.4.1.1 "><p>Import a VSA VM template to the system.</p>
</td>

<td class="cellrowborder" valign="top" width="55.44041450777202%" headers="mcps1.2.5.9.2.4.1.2 "><p><span>FusionManager</span> can use a VSA VM template to automatically create system service VMs.</p>
</td>

<td class="cellrowborder" valign="top" width="27.461139896373055%" headers="mcps1.2.5.9.2.4.1.3 ">Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Templates and Specs</span></b> &gt; <b><span class="uicontrol">VM Templates</span></b></span>.</td>

</tr>

</tbody>

</table>
</div>
</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>