
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Deleting the NIC Configuration from a Linux VM">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_600024">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>Deleting the NIC Configuration from a Linux VM</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("FAQ\nVM Management\nDeleting the NIC Configuration from a Linux VM");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_faq.html\">FAQ<\/a> > <a href=\"../father_node/it_60_99_100032.html\">VM Management<\/a> > Deleting the NIC Configuration from a Linux VM<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_600024"></a><a name="it_60_51_600024"></a>


<h1 class="topictitle1">Deleting the NIC Configuration from a Linux VM</h1>
<ul><li><a href="#it_60_51_600024__1.2.1.1">Scenarios</a></li><li><a href="#it_60_51_600024__1.2.2.1">Prerequisites</a></li><li><a href="#it_60_51_600024__1.2.3.1">Procedure</a></li></ul>
<div>
<div class="section"><a name="it_60_51_600024__1.2.1.1"></a><a name="1.2.1.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600024" class="sectiontitle2contents">Scenarios</a></h4>


<div class="p"><p>After deleting a network interface card (NIC) from a Linux
VM, you need to manually delete the configuration information of this
NIC. Otherwise, if you add another NIC to the VM, the NIC name number
becomes discontinuous.</p>
<p>For example, a Linux VM (VM A) has two
NICs (eth0 and eth1). After eth1 is deleted from VM A, if you add
another NIC to VM A, the NIC name becomes eth2 due to the residual
configuration information of eth1. As a result, VM A has two NICs
(eth0 and eth2) with discontinuous name numbers.</p>
</div>

</div>

<div class="section"><a name="it_60_51_600024__1.2.2.1"></a><a name="1.2.2.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600024" class="sectiontitle2contents">Prerequisites</a></h4>


<div class="p"><p>You have logged in to the VM.</p>
</div>

</div>

<div class="section"><a name="it_60_51_600024__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600024" class="sectiontitle2contents">Procedure</a></h4>

<ul><div class="HandlingTitled"><p class="sectiontitle"></p>
<div class="Steps-titled"><ol type="1" start="1"><li><span>Log in
to the VM, run the following command to edit the file of the NIC rules:</span>
<p><b><span class="cmdname">vim /etc/udev/rules.d/70-persistent-net.rules</span></b></p>
</li><li><span>Press <span class="userinput"><b>i</b></span> to enter editing mode
and delete the udev rules of the NIC that has been deleted.</span>
<p>For example, if eth1 has been deleted, delete the following
information in bold: <pre class="screen">SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="28:6e:d4:88:b5:df", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0"
<strong>SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="28:6e:d4:1f:38:b0", ATTR{type}=="1", KERNEL=="eth*", NAME="eth1"</strong>
</pre>
</p>
</li><li><span>Press <span class="uicontrol"><b>Esc</b></span> to exit editing mode and enter <span class="userinput"><b>:wq</b></span> to save the modification and exit.</span>
</li><li><span>Determine the VM IP address assignment mode.</span>
<p><ul><li>If the VM IP address is assigned using Dynamic Host Configuration
Protocol (DHCP), no further action is required.</li><li>If the VM IP address is manually assigned, go to <a href="#it_60_51_600024__d2289e177">5</a>.</li></ul>
</p>
</li><li id="it_60_51_600024__d2289e177"><a name="it_60_51_600024__d2289e177"></a><a name="d2289e177"></a><span>Mount the obtained <span class="filepath"><b>FusionCompute
V100R005C00SPC200_Customization.iso</b></span> file to the VM.</span>

</li><li><span>Run the following command to delete the configuration
file of the NIC that has been deleted:</span>
<p><b><span class="cmdname">rm -f ifcfg-ethXX</span></b></p>
<p>For example, if eth1 has been deleted, run the following command:<p><b><span class="cmdname">rm -f ifcfg-eth1</span></b></p>
</p>
</li></ol></div>
</div>
</ul>

</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>