
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="VM-Hardware">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_100045">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>VM-Hardware</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("Resource Management\nVirtual Resource Management\nResource Cluster Management\nVM-Hardware");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_100001.html\">Resource Management<\/a> > <a href=\"../father_node/it_60_99_100003.html\">Virtual Resource Management<\/a> > <a href=\"../father_node/it_60_99_100034.html\">Resource Cluster Management<\/a> > VM-Hardware<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_100045"></a><a name="it_60_51_100045"></a>


<h1 class="topictitle1">VM-Hardware</h1>
<ul><li><a href="#it_60_51_100045__1.2.3.1">Modifying CPU Attributes</a></li><li><a href="#it_60_51_100045__1.2.4.1">Modifying Memory Attributes</a></li><li><a href="#it_60_51_100045__1.2.5.1">Modifying Disk Attributes</a></li><li><a href="#it_60_51_100045__1.2.6.1">Adjusting NICs</a></li><li><a href="#it_60_51_100045__1.2.7.1">Adjusting USB Controllers</a></li><li><a href="#it_60_51_100045__1.2.8.1">Adjusting a USB Device</a></li><li><a href="#it_60_51_100045__1.2.9.1">FAQ</a></li></ul>
<div>
<p>A VM runs on a host and consists of virtual resources,
including virtual CPUs, memory, disks, and network interface cards
(NICs). Computing resources (such as CPUs and memory), CD/DVD-ROM
drives or ISO images, USB devices, and network connections are provided
by hosts; virtual disk storage space is provided physical storage
devices.</p>


<p>Modify hardware attributes and configurations on demand after the
VM is created.</p>



<div class="section"><a name="it_60_51_100045__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Modifying CPU Attributes</a></h4><p>Modify VM CPU attributes, including the number of CPUs and CPU
resource control, to adjust the VM performance. </p>
<p>You can modify CPU attributes only
when the VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>CPU</b></span>.</p>
<p>For details, see <a href="it_60_51_600020.html">Modifying CPU Attributes</a>.</p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.4.1"></a><a name="1.2.4.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Modifying Memory Attributes</a></h4><p>Modify memory attributes, including the memory size and memory
resource control, to adjust the VM performance. </p>
<div class="p">You can modify the memory attributes
only when the following requirements are met:<ul><li>VMs in the <span>FusionCompute</span> hypervisor must be in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state. </li><li>VMs in the VMware hypervisor must be in the <span class="parmvalue"><b>Stopped</b></span> state.</li></ul>
</div>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Memory</b></span>.</p>
<p>The VM must
be restarted if the memory size of a running VM is changed. Otherwise,
the changes will not take effect. Other attributes take effect as
soon as they are modified. </p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.5.1"></a><a name="1.2.5.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Modifying Disk Attributes</a></h4><p><strong>Adding a Disk</strong></p>
<div class="p">Attach a disk to a VM to increase the
storage space of the VM.<ul><li>Create a disk and attach the disk to the VM.</li><li>Attach an available disk to the VM.</li><li>Attach a raw device to the VM.</li></ul>
</div>
<p>The VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state. In addition, the host on which the VM
is running is not in maintenance mode.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, click <span class="uicontrol"><b>Disk</b></span>, and select <span class="uicontrol"><b>Add</b></span>.</p>
<div class="p">After attaching the disk to the VM, you also need to add the
disk to the VM operating system (OS).<ul><li>If the attached disk is a newly created disk, format the disk. For the detailed operation procedure, <span>search from the
Internet or <a href="http://support.huawei.com/ecommunity/bbs/list_1595,4289.html?l=en" target="_blank">Forum</a>.</span></li><li>If the attached disk already contains data and the disk drive letter is the same as the disk drive letter on the VM, set the disk status from offline to online.</li></ul>
</div>
<p><strong>Expanding Disk Capacity</strong></p>
<div class="p" id="it_60_51_100045__expand_define"><a name="it_60_51_100045__expand_define"></a><a name="expand_define"></a>Expand
the capacity of a disk on a VM when required. You can expand the disk
capacity of a VM only when the following requirements are met:<ul><li>The virtual data store or FusionStorage is used.</li><li>No snapshots have been created for the disk. If any snapshots
have been created for the disk, delete the snapshots before expanding
the disk capacity. </li><li>The disk is not the system disk of a linked clone.</li><li>For a VM in the <span>FusionCompute</span> hypervisor, the capacity of the VM disk to be expanded is greater
than or equal to 4 GB.</li><li>You cannot expand the disk capacity when the VM is running if
the disk is created on NAS storage and the disk is in common configuration
mode.</li></ul>
</div>
<p id="it_60_51_100045__expand_status"><a name="it_60_51_100045__expand_status"></a><a name="expand_status"></a>If the VM is in the <span>FusionCompute</span> hypervisor, you can expand the disk capacity of a VM when the VM
is in the <span class="parmvalue"><b>Stopped</b></span> or <span class="parmvalue"><b>Running</b></span> state. If the VM is in the other hypervisor, you can expand the
disk capacity of a VM only when the VM is in the <span class="parmvalue"><b>Stopped</b></span> state.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Adjust Capacity</b></span>.</p>
<div class="p" id="it_60_51_100045__expand_effect"><a name="it_60_51_100045__expand_effect"></a><a name="expand_effect"></a>Determine the VM scenario and make capacity expansion
take effect.<ol><li><div class="p">If the VM is in the following scenario, restart the VM:<ol type="a"><li>The VM is in the <span class="parmvalue"><b>Running</b></span> state. </li><li>The disk is created on a Local Pome, LUN Pome, or NAS storage.</li><li>The VM does not run one of the following OSs:<ul><li>Windows Server 2003</li><li>Windows Server 2008</li><li>Windows XP</li><li>Windows 7</li></ul>
</li></ol>
</div>
<div class="p">If the VM is in the following scenario, power cycle the
VM:<ol type="a"><li>The VM is in the <span class="parmvalue"><b>Running</b></span> state. </li><li>The disk is created on FusionStorage.</li></ol>
</div>
</li><li>The VM OS recognizes newly expanded disk capacity as an unallocated
partition. Therefore, you need to merge the partition or create a
partition to identify the expanded disk capacity. For detailed operation
methods, <span>search from the
Internet or <a href="http://support.huawei.com/ecommunity/bbs/list_1595,4289.html?l=en" target="_blank">Forum</a>.</span>.</li></ol>
</div>
<p><strong>Modifying Disk Attributes</strong></p>
<p>Modify VM disk
attributes, including the name, whether affected by snapshots, and
persistency.</p>
<p>You can modify the disk attributes for VMs in the
VMware hypervisor only when the VMs are in the <span class="parmvalue"><b>Stopped</b></span> state. You can modify the persistency attribute only when VMs are
in the <span class="parmvalue"><b>Stopped</b></span> state.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk and click <span class="uicontrol"><b>Modify</b></span>.</p>
<p><strong>Reclaiming Thin
Provisioning Disk Resources </strong></p>
<p>Reclaim free virtual storage
space on thin provisioning disks to virtual storage resources in the
data store that provides the thin provisioning storage resources.
The system reallocates the reclaimed resources to increase the storage
resource usage.</p>
<div class="p">Be aware of the following limitations before
reclaiming resources of a disk:<ul><li>VMs in the VMware hypervisors
do not support this function.</li><li>The <strong>Type</strong> value of the disk must be <strong>Ordinary</strong>, the <strong>Configuration Mode</strong> value must be <strong>Thin provisioning</strong>, and
the <strong>Persistency</strong> value must be <strong>Persistent</strong>.</li><li>Only virtualized data stores (Local Pome, LUN Pome, and NAS) support
disk space reclamation. </li><li>The disk format of the VM using the disk must be New Technology
File System (NTFS). After certain files are deleted, the space cannot
be thoroughly reclaimed due to the limitations of the NTFS. </li><li>The disk cannot be used by a snapshot VM.</li><li>The disk is not the system disk of a linked clone.</li><li>Disk space reclamation is recommended when the data store of the
disk has free storage space. If the storage space available on the
data store of the disk is insufficient, migrate other disks on the
data store to other data stores and reclaim the space on the target
disk. </li></ul>
</div>
<div class="p">You are advised to reclaim storage resources of a disk
when the <strong>Available Capacity</strong> of the disk is greater than its <strong>Used</strong>. If the <strong>Available Capacity</strong> of a disk is less than
its <strong>Used</strong>, the disk cannot be reclaimed because it may be one
of the following:<ul><li>A disk used by a snapshot VM</li><li>A system disk of a linked clone </li><li>A disk with its <strong>Persistency</strong> parameter set to <strong>Nonpersistent</strong></li></ul>
</div>
<p>You can reclaim disk resources only when the VM is in
the <span class="parmvalue"><b>Stopped</b></span> state. </p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Reclaim Disk Resource</b></span>.</p>
<p><strong>Configuring the I/O Upper Limit for a Disk</strong></p>
<p id="it_60_51_100045__diskIO_define"><a name="it_60_51_100045__diskIO_define"></a><a name="diskIO_define"></a>Configure the input/output (I/O) upper limit for
a disk to prevent that the disk deteriorates the performance of other
VMs due to excessive I/O. If the I/O upper limit is set to a low value,
the VM may respond slowly or even cannot get started. </p>
<p id="it_60_51_100045__diskIO_status"><a name="it_60_51_100045__diskIO_status"></a><a name="diskIO_status"></a>You can configure the I/O upper limit only when
the VM is in the <span class="parmvalue"><b>Running</b></span>, <span class="parmvalue"><b>Stopped</b></span>, or <span class="parmvalue"><b>Hibernated</b></span> state. VRMs VMs in the <span>FusionCompute</span> hypervisor do not support this function.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Set I/O Upper Limit</b></span>.</p>
<p><strong>Detaching a Disk from a VM</strong></p>
<p>Detach a disk from its attached
VM.</p>
<div class="p">To detach a disk from
a running VM, note the following restrictions:<ul><li><p>The VM has the Tools run properly on it.</p>
</li><li>The system disk cannot be detached.</li><li>A raw device mapped (RDM) disk cannot be detached.</li><li>Only VMs running the following operating systems (OSs) supports
disk detaching when the VMs are running:<ul><li>Windows Server 2008 R2 Enterprise 64–bit</li><li>Red Hat Linux Enterprise 5.7/5.8/6.5 (32-/64-bit)</li><li>CentOS 5.7/5.8/6.5 (32-/64-bit)</li></ul>
</li></ul>
</div>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Unbind</b></span>.</p>
<p><strong>Deleting a Disk</strong></p>
<p>If a disk is not needed any more, you can delete it from the system to release storage resources. After a disk is deleted, all the data on the disk
will also be deleted. Therefore, exercise caution when performing this operation.</p>
<div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> NOTE: </span><div class="notebody"><span><strong>Declaration</strong>: This feature is a high-risk feature. Using this feature complies
with industry practices. However, end user data may be required for
implementing the feature. Exercise caution and obtain end user's consent
when using this feature.</span></div></div>
<p>You can delete a disk that has been attached to a
VM only when the VM is in the <span class="parmvalue"><b>Stopped</b></span> state. </p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>Disk</b></span>. Locate the row that
contains the target disk, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Delete</b></span>.</p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.6.1"></a><a name="1.2.6.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Adjusting NICs</a></h4><p><strong>Adding a NIC</strong></p>
<p>Add one or more NICs to a VM so that
the VM can use multiple NICs. </p>
<div class="p">You can add a NIC only when the
VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state. If the VM is in either of the following scenarios, you can
add a NIC only when the VM is in the <span class="parmvalue"><b>Stopped</b></span> state:<ul><li>The VM runs the Windows 2000 OS.</li><li>The host on which the VM is running uses an intelligent NIC.</li></ul>
</div>
<div class="p">Be aware of the following limitations before adding a
NIC:<ul><li>You have added a MAC address segment or an independent MAC segment
to the system. </li><li>For VMs in the <span>FusionCompute</span> hypervisor, a maximum of 12 NICs can be configured for a VM. For
VMs in the VMware hypervisor,
a maximum of eight NICs can be configured for a VM. </li><li>If a VM has multiple NICs bound, only the gateway of one NIC among
them is allowed to function as the default gateway of the VM. If all
these NICs have gateways configured, you need to manually add a policy
route on the VM.</li><li>The VM NIC does not support networks in <strong>Static injection</strong> mode.</li><li>To add a NIC when the VM is running, the VM must be installed
with Tools, and Tools is running properly. </li></ul>
</div>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, click <span class="uicontrol"><b>NIC</b></span>, and select <span class="uicontrol"><b>Add</b></span>.</p>
<p><strong>Modifying NIC Attributes</strong></p>
<p>Modify the NIC attributes of a VM to adjust the network to
which the VM NIC belongs.</p>
<p>You can modify the VM attributes only
when the VM is in the <span class="parmvalue"><b>Stopped</b></span> state. </p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>NIC</b></span>. Locate the row that
contains the target NIC and click <span class="uicontrol"><b>Modify</b></span>.</p>
<div class="p">For Linux VMs, if
the MAC address is changed, the NIC ID is automatically changed (for
example, from eth0 to eth1), which results in communication interruption.
You can use either of the following methods to address this problem:<ul><li>Log in to the VM using VNC and reconfigure the VM IP address. </li><li>Log in to the VM using VNC, delete the VM OS specification file,
and restart the VM to restore the mapping between the MAC address
and the NIC. For example, If the OS is <span class="parmname"><b>SUSE Linux Enterprise
Server 11 SP1 64-bit</b></span>, the VM OS specification file is stored
in <span class="filepath"><b>/etc/udev/rules.d/70-persistent-net.rules</b></span>.</li></ul>
</div>
<p><strong>Adding a NIC to or Deleting a NIC from the Security
Group</strong></p>
<p>If the VPC to which a NIC belongs contains a security
group, you can add the NIC to or delete it from the security group.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="menucascade"><b><span class="uicontrol">NIC</span></b></span>. Locate the row that contains the target NIC and perform operations.</p>
<p><strong>Deleting a NIC</strong></p>
<p>Delete a
NIC from a VM to release network resources. </p>
<div class="p">You can delete
a NIC only when the VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state. If the VM is in either of the following
scenarios, you can add a NIC only when the VM is in the <span class="parmvalue"><b>Stopped</b></span> state:<ul><li>The VM runs the Windows 2000 OS.</li><li>The host on which the VM is running uses an intelligent NIC.</li></ul>
</div>
<div class="p">Be aware of the following limitations before deleting
a NIC from a VM:<ul><li>To delete a NIC when the VM is running, the VM must have Tools
installed and Tools is running properly.</li><li>In a system that uses iNICs on hosts and Windows OS on VMs, the
iNICs on a VM must be deleted in reverse numerical order. Otherwise,
iNIC configuration information will be disordered, and the iNICs that
have not been deleted can be used only after reconfiguration. For
example, on a Windows VM that has three iNICs, iNIC 1, iNIC 2, and
iNIC 3, if iNIC 2 is deleted, configuration information of iNIC 3
will become that of iNIC 2. Therefore, you need to reconfigure iNIC
3 information.</li></ul>
</div>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>NIC</b></span>. Locate the row that
contains the target NIC, click <span class="uicontrol"><b>More</b></span>, and select <span class="uicontrol"><b>Delete</b></span>.</p>
<p>After deleting a NIC from a Linux VM, delete
the configuration information of this NIC. For details, see <a href="it_60_51_600024.html">Deleting the NIC Configuration from a Linux VM</a>.</p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.7.1"></a><a name="1.2.7.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Adjusting USB Controllers</a></h4><p><strong>Adding a USB Controller</strong></p>
<p>Add a USB controller to a
VM in the VMware hypervisor. Only after a USB controller is added,
USB devices can be attached to the VM. </p>
<p>In the <span>FusionCompute</span> hypervisor, the USB controller has been added for VMs by default,
and you do not need to add manually. </p>
<p>You
can add a VM only when the VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state. In addition, the host on
which the VM is running must have a USB controller. Only one USB controller
can be added to a VM. </p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, click <span class="uicontrol"><b>USB Controller</b></span>, and select <span class="uicontrol"><b>Add</b></span>.</p>
<p><strong>Deleting a USB Controller</strong></p>
<p>Delete a USB controller used
by VMs in the VMware hypervisor to release the occupied resources. </p>
<p>VMs in the <span>FusionCompute</span> hypervisor do not support this function.</p>
<p>You can delete the
USB controller from a VM only when the VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state and the USB controller is
not used.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>USB Controller</b></span>. Locate the
row that contains the target USB controller and click <span class="uicontrol"><b>Delete</b></span>. </p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.8.1"></a><a name="1.2.8.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">Adjusting a USB Device</a></h4><p><strong>Attaching a USB Device</strong></p>
<p>Attach a USB device on a host
to a VM so that the VM can use the USB device.</p>
<p id="it_60_51_100045__usb_condition"><a name="it_60_51_100045__usb_condition"></a><a name="usb_condition"></a>You can add a USB device only when the VM is
in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state, the VM is already equipped with a USB controller, and the
host on which the VM is running has available USB devices.</p>
<div class="p">A maximum
of four USB devices can be attached to each set of VM. The four USB
devices must be deployed on the same host. Attaching a USB device
to a VM has the following impacts on the VM:<ul><li>HA: When HA is enabled on a VM to which a USB device is attached,
the USB's state changes to <span class="parmvalue"><b>Assigned, Non-passthrough</b></span> and the USB device cannot be attached to other VMs.</li><li>Migration: The VM does not support live migration after being
attached to a USB device.</li><li>Hibernation: After a VM is hibernated, do not remove or insert
the USB device that is attached to the VM.</li><li>VM snapshot: The VM does not support memory snapshots after being
attached to a USB device.</li><li>Cluster scheduling policy: The cluster scheduling policy takes
no effect on the VM to which a USB device is attached.</li><li>Transmission rate: After the USB device is attached to a VM, the
maximum transmission rate of the USB port is 3 MB/s.</li></ul>
</div>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, click <span class="uicontrol"><b>USB Device</b></span>, and select <span class="uicontrol"><b>Add</b></span>.</p>
<p><strong>Detaching a USB Device</strong></p>
<p>Detach a USB device on a host from
a VM when the USB device is no longer used. </p>
<p>You can detach
a USB device only when the VM is in the <span class="parmvalue"><b>Running</b></span> or <span class="parmvalue"><b>Stopped</b></span> state.</p>
<p><span>Choose <span class="menucascade"><b><span class="uicontrol">Resource</span></b> &gt; <b><span class="uicontrol">Resource Clusters</span></b></span>, select a resource
cluster, navigate to the <span class="uicontrol"><b>VMs</b></span> page, select a
VM, navigate to the <span class="uicontrol"><b>Hardware</b></span> page</span>, and click <span class="uicontrol"><b>USB Device</b></span>. Locate the row
that contains the target USB device and click <span class="uicontrol"><b>Delete</b></span>.</p>
</div>

<div class="section"><a name="it_60_51_100045__1.2.9.1"></a><a name="1.2.9.1"></a><h4 class="sectiontitle"><a href="#it_60_51_100045" class="sectiontitle2contents">FAQ</a></h4><p><strong>What
is the CPU Socket?</strong></p>
<p>On a physical host, each physical CPU
provides certain memory, but the computing performance of a CPU is
the highest when it reads data from or writes data into its own memory
among the memory of all CPUs.</p>
<p>Therefore, when a VM uses multiple
CPUs, set the CPU sockets, ensuring that the VM CPUs are evenly provided
by multiple physical CPUs. In this case, the load of a single physical
CPU is light, and the optimal read and write performance can be achieved.</p>
<p>The number of VM CPU sockets specifies how many physical CPUs
evenly provide CPUs for a VM. Therefore, the number of VM CPU sockets
must be divisible by the number of VM CPUs.</p>
<p>The number of VM
CPU sockets is available only after the <span class="uicontrol"><b>GuestNUMA</b></span> function is enabled in the advanced settings of the cluster.</p>
<p>An example is provided as follows:</p>
<p>If each host in the environment
has four eight-core physical CPUs, a total number of 32 physical cores
are available on the host.</p>
<p>If the CPU sockets are not configured
for a VM that has eight CPUs, these virtual CPUs may be provided altogether
by only one physical CPU or by other different CPUs unevenly. For
example, one physical CPU can provide five cores and another physical
CPU provides three cores.</p>
<p>However, if CPU sockets are configured
for the VM, for example, the number of CPU sockets is set to 4, the
eight virtual CPUs of the VM are evenly provided by four physical
CPUs (each providing two cores), thereby achieving optimal computing
performance.</p>
</div>

<div class="section"><div class="p"><pre class="screen"> </pre>
</div>
<p><span><a href="http://enterprise.huawei.com/topic/FusionCloud_2013_en/index.html" target="_blank">Documentation</a></span><span> | </span><span><a href="http://support.huawei.com/ecommunity/bbs/list_1595,4289.html?l=en" target="_blank">Forum</a></span></p>
</div>

</div>


<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>