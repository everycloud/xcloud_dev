<div id="portDetailDiv" ng-controller="resource.host.summary.port.ctrl">
    <div class="container-fluid">
        <div class="row-fluid innerbox-padding">
            <div class="span6">
                <tiny-formfield>
                    <tiny-item label="portDetail.name.label">
                        {{portDetail.name.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.status.label">
                        {{portDetail.status.value}}
                    </tiny-item>

                    <tiny-item label="portDetail.pkg_rcv.label">
                        {{portDetail.pkg_rcv.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.byte_in.label">
                        {{portDetail.byte_in.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.rxDropPkt.label">
                        {{portDetail.rxDropPkt.value}}
                    </tiny-item>
                </tiny-formfield>
            </div>
            <div class="span6">
                <tiny-formfield>
                    <tiny-item label="portDetail.duplexMode.label">
                        {{portDetail.duplexMode.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.spec.label">
                        {{portDetail.spec.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.pkg_send.label">
                        {{portDetail.pkg_send.value}}
                    </tiny-item>

                    <tiny-item label="portDetail.byte_out.label">
                        {{portDetail.byte_out.value}}
                    </tiny-item>
                    <tiny-item label="portDetail.txDropPkt.label">
                        {{portDetail.txDropPkt.value}}
                    </tiny-item>
                </tiny-formfield>
            </div>
        </div>
    </div>
</div>
<script>
    require(['app/business/resources/controllers/device/host/hostDetail/summaryPortDetailCtrl'],
            function (ctrl) {
                //替换ID，使ID唯一
                var lineNum = $("#portDetailDiv").parent().parent().parent().prev().attr("lineNum");
                var hostId = $("#portDetailDiv").parent().parent().parent().prev().attr("hostId");
                var hostName = $("#portDetailDiv").parent().parent().parent().prev().attr("hostName");
                var id = "portDetailDiv_" + lineNum;
                $("#portDetailDiv").attr("id", id);

                //编译
                var dep = ['ng', 'wcc', ctrl.name];
                dep.unshift(["$provide", function ($provide) {
                    $provide.value("$rootElement", $("#" + id));
                }]);
                var $injector = angular.injector(dep);
                $injector.invoke(function ($compile, $rootScope) {
                    $compile($("#" + id))($rootScope);
                    $rootScope.$digest();
                });
                $("#" + id).scope().getPortInfo(hostId,hostName);
            });
</script>

