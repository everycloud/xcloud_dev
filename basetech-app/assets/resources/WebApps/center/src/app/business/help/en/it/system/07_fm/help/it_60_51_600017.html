
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="DC.Type" content="task">
<meta name="DC.Title" content="Configuring Network Information for the DHCP Server">
<meta name="DC.Relation" scheme="URI" content="../../07_fm/father_node/it_60_99_faq.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_600017">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<title>Configuring Network Information for the DHCP Server</title>
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../../whmsg.js"></script>
<script type="text/javascript" language="javascript" src="../../whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="../../whtopic.js"></script>

 <meta name="generator" content="Adobe RoboHelp 9">
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = decodeURI(document.location.href);
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = encodeURI(strUrl.substring(0, n));
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("FAQ\nConfiguring Network Information for the DHCP Server");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	document.write("<p style=\"text-align:right\"> ");
AddMasterBreadcrumbs("../../Help_Admin_System.htm", "", ">", "Home", "../father_node/it_60_99_start.html");
document.write("<a href=\"../father_node/it_60_99_faq.html\">FAQ<\/a> > Configuring Network Information for the DHCP Server<\/p>");


	if (window.setRelStartPage)
	{
	setRelStartPage("../../Help_Admin_System.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script><a name="it_60_51_600017"></a><a name="it_60_51_600017"></a>


<h1 class="topictitle1">Configuring Network Information for the DHCP Server</h1>
<ul><li><a href="#it_60_51_600017__1.2.1.1">Scenarios</a></li><li><a href="#it_60_51_600017__1.2.2.1">Prerequisites</a></li><li><a href="#it_60_51_600017__1.2.3.1">Procedure</a></li></ul>
<div>
<div class="section"><a name="it_60_51_600017__1.2.1.1"></a><a name="1.2.1.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600017" class="sectiontitle2contents">Scenarios</a></h4>


<div class="p"><p>When <span>FusionManager</span> uses an external Dynamic Host Configuration Protocol (DHCP) server to assign IP addresses, you need to configure network information for the DHCP server on the
switch. This topic describes how to configure the network information for the DHCP server and configure the DHCP relay function for the networks created on <span>FusionManager</span>.</p>
</div>

</div>

<div class="section"><a name="it_60_51_600017__1.2.2.1"></a><a name="1.2.2.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600017" class="sectiontitle2contents">Prerequisites</a></h4>


<div class="p">You have logged in to the switch using a terminal emulation tool.</div>

</div>

<div class="section"><a name="it_60_51_600017__1.2.3.1"></a><a name="1.2.3.1"></a><h4 class="sectiontitle"><a href="#it_60_51_600017" class="sectiontitle2contents">Procedure</a></h4>

<ul><div class="HandlingTitled"><p class="sectiontitle">Configure network information for the DHCP server on the aggregation switch.</p>
<div class="Steps-titled"><ol type="1" start="1"><li><span>Log in to the aggregation switch.</span>
<p><p id="it_60_51_600017__switch_mode"><a name="it_60_51_600017__switch_mode"></a><a name="switch_mode"></a>The following commands only apply to Huawei S5300 switches. To configure the network information on switches of other models, refer to the product documentation for your in-use switch to check the supported commands.</p>
</p>
</li><li><span>In the system view, run the <b><span class="cmdname">interface vlanif</span></b> <i><span class="varname">VLAN ID</span></i> command to enter the VLANIF interface view of the VLAN to which the DHCP server belongs.</span></li><li><span>Run the <b><span class="cmdname">ip address</span></b> <i><span class="varname">VLANIF IP address</span></i> <i><span class="varname">Subnet mask</span></i> command to configure the IP address and subnet mask for the VLANIF interface.</span>
<p><div class="note"><img src="../../public_sys-resources/icon-note.gif"><span class="notetitle"> NOTE: </span><div class="notebody"><p>If the DHCP server uses the same VLAN with other networks but different gateways from other networks, run the following command to configure a secondary IP address:</p>
<p><b><span class="cmdname">ip address</span></b> <i><span class="varname">VLANIF interface
IP address</span></i> <i><span class="varname">subnet mask</span></i> <b><span class="cmdname">sub</span></b></p>
</div></div>
</p>
</li><li><span>Run the <b><span class="cmdname">quit</span></b> command to quit the VLANIF interface view.</span>
<p><p>If the VLAN ID of the DHCP server is 20 and the subnet mask and gateway are to be configured to <span class="parmvalue"><b>255.255.255.0</b></span> and <span class="parmvalue"><b>192.160.18.1</b></span>, respectively, run the following commands on the aggregation switch:</p>
<p>&lt;Quidway&gt; <b><span class="cmdname">system-view</span></b></p>
<p>[Quidway] <b><span class="cmdname">interface vlanif 20</span></b></p>
<p>[Quidway-Vlanif20] <b><span class="cmdname">ip address 192.160.18.1 24</span></b></p>
<p>[Quidway-Vlanif20] <b><span class="cmdname">quit</span></b></p>
</p>
</li></ol></div>
</div>
<div class="HandlingTitled"><p class="sectiontitle">Configure the DHCP relay function for the external network.</p>
<div class="Steps-titled"><ol type="1" start="5"><li><span>Log in to the aggregation switch. In the examples provided in the following operations, the external network gateway is on the aggregation switch.</span></li><li><span>In the system view, run the <b><span class="cmdname">dhcp enable</span></b> command to enable the global DHCP function.</span></li><li><span>Run the <b><span class="cmdname">dhcp server group</span></b> <i><span class="varname">Group name</span></i> command to create a DHCP server group.</span></li><li><span>Run the <b><span class="cmdname">dhcp-server</span></b> <i><span class="varname">DHCP server IP address</span></i> command to add the target DHCP server to the DHCP server group.</span></li><li><span>Run the <b><span class="cmdname">interface vlanif</span></b> <i><span class="varname">VLAN ID</span></i> command to enter the VLANIF interface view of the external network.</span></li><li><span>Run the <b><span class="cmdname">dhcp select relay</span></b> command to enable the DHCP relay function.</span></li><li><span>Run the <b><span class="cmdname">dhcp relay server-select</span></b> <i><span class="varname">DHCP server group name</span></i> command to configure the IP address of the DHCP server.</span>
<p><p>If the VLAN ID of the external network is 2005 and the IP address of the DHCP server is 192.160.18.10, run the following commands on the aggregation switch:</p>
<p>&lt;Quidway&gt; <b><span class="cmdname">system-view</span></b></p>
<p>[Quidway] <b><span class="cmdname">dhcp enable</span></b></p>
<p>[Quidway] <b><span class="cmdname">dhcp server group dhcpgroup1</span></b></p>
<p>[Quidway-dhcp-server-group-dhcpgroup1] <b><span class="cmdname">dhcp-server 192.160.18.10</span></b></p>
<p>[Quidway-dhcp-server-group-dhcpgroup1] <b><span class="cmdname">quit</span></b></p>
<p>[Quidway] <b><span class="cmdname">interface vlanif 2005</span></b></p>
<p>[Quidway-Vlanif2005] <b><span class="cmdname">dhcp select relay</span></b></p>
<p>[Quidway-Vlanif2005] <b><span class="cmdname">dhcp relay server-select dhcpgroup1</span></b></p>
</p>
</li></ol></div>
</div>
</ul>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="../father_node/it_60_99_faq.html" title="">FAQ</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Huawei Proprietary and Confidential</div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>