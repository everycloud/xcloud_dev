
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=gb2312">
   
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7">
<meta name="copyright" content="(C) 版权 2005">
<meta name="DC.rights.owner" content="(C) 版权 2005">
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="ACL">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="it_60_51_000012">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="../../public_sys-resources/commonltr.css">
<script language="javascript" type="text/javascript" src="../../public_sys-resources/ExpandCollapse.js"></script>
<title>ACL</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="it_60_51_000012"></a><a name="it_60_51_000012"></a>


<h1 class="topictitle1">ACL</h1>


<div>
<div class="section" id="it_60_51_000012__sec_overView"><a name="it_60_51_000012__sec_overView"></a><a name="sec_overView"></a><h4 class="sectiontitle">简介</h4><p>ACL（Access Control
List）应用于网络设备的指令列表，用于指定流经网络设备上的哪些数据包可以接收转发，哪些数据包需要过滤。ACL可用来限制进出网络的数据流量，提高网络性能，也可以保证网络资源不被非法使用和访问，提升网络访问的安全性。</p>
</div>

<div class="section" id="it_60_51_000012__sec_principle"><a name="it_60_51_000012__sec_principle"></a><a name="sec_principle"></a><h4 class="sectiontitle">原理概述</h4><p>ACL是一种对经过路由器的数据流进行判断、分类和过滤的方法。将ACL应用到路由器的接口上，以数据包源地址、目的地址、协议类型以及端口号等信息作为ACL的过滤标准，对路由器需要转发的数据包，获取其头部信息，然后和设定的ACL规则进行比较，根据比较的结果对数据包进行转发或者丢弃。</p>
<p>例如，在<a href="#it_60_51_000012__fig_acl">图1</a>中，ACL访问控制列表通过以下两条ACL规则对访问VM2的流量进行控制。</p>
<ol><li>允许源地址为200.8.1.0，目的地址为10.145.12.0/24的数据包经过路由转发至VM2。</li><li>禁止源地址为10.145.11.0/24，目的地址为10.145.12.0/24的数据包经过路由转发至VM2。</li></ol>
<div class="fignone" id="it_60_51_000012__fig_acl"><a name="it_60_51_000012__fig_acl"></a><a name="fig_acl"></a><span class="figcap"><b>图1 </b>ACL访问控制</span>

<br><span><img src="fig/fig_it_60_51_000012_02.png"></span></div>
<p>在<span>FusionManager</span>中，VPC内部互相访问的规则称为域内规则，作用于路由网络之间的数据流量。VPC内部与外部网络之间互相访问的规则称为域间规则，域间规则是通过弹性IP对路由网络与公网之间数据流量进行控制的。</p>
</div>

<div class="section"><h4 class="sectiontitle">需要准备的软件</h4><p>通过软件路由器实现ACL功能时，需要获取<a href="#it_60_51_000012__tbl_01">表1</a>中的软件。</p>

<div class="tablenoborder"><a name="it_60_51_000012__tbl_01"></a><a name="tbl_01"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000012__tbl_01" frame="border" border="1" rules="all"><caption><b>表1 </b>软件</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="23%" id="mcps1.2.3.3.2.4.1.1"><p>名称</p>
</th>

<th class="cellrowborder" valign="top" width="35.75%" id="mcps1.2.3.3.2.4.1.2"><p>说明</p>
</th>

<th class="cellrowborder" valign="top" width="41.25%" id="mcps1.2.3.3.2.4.1.3"><p>获取方式</p>
</th>

</tr>

</thead>

<tbody>
<tr>

<td class="cellrowborder" valign="top" width="23%" headers="mcps1.2.3.3.2.4.1.1 "><span class="filepath">“FusionCompute V100R005C00SPC200_VSA.zip”</span></td>

<td class="cellrowborder" valign="top" width="35.75%" headers="mcps1.2.3.3.2.4.1.2 "><p>系统服务虚拟机模板文件，申请软件路由器时，系统会自动通过此模板文件创建系统服务虚拟机，提供路由器功能。</p>
</td>

<td class="cellrowborder" valign="top" width="41.25%" headers="mcps1.2.3.3.2.4.1.3 "><div class="p" id="it_60_51_000012__d760e114"><a name="it_60_51_000012__d760e114"></a><a name="d760e114"></a><ul><li><p>企业用户：<span class="menucascade">“<span class="uicontrol">http://support.huawei.com/enterprise </span> &gt; <span class="uicontrol">软件下载</span> &gt; <span class="uicontrol">IT</span> &gt; <span class="uicontrol">云计算</span> &gt; <span class="uicontrol">云操作系统</span> &gt; <span class="uicontrol">FusionCompute</span> &gt; <span class="uicontrol">V100R005C00SPC100</span>”</span></p>
</li><li><p>运营商用户：<span class="menucascade">“<span class="uicontrol">http://support.huawei.com</span> &gt; <span class="uicontrol">产品软件</span> &gt; <span class="uicontrol">电信软件与核心网</span> &gt; <span class="uicontrol">电信云计算</span> &gt; <span class="uicontrol">IT云基础设施解决方案</span> &gt; <span class="uicontrol">Cloud
OS</span> &gt; <span class="uicontrol">FusionCompute</span> &gt; <span class="uicontrol">V100R005C00SPC100</span>”</span></p>
</li></ul>
</div>
</td>

</tr>

</tbody>

</table>
</div>
<div class="note"><img src="../theme/default/images/icon-note.gif"><span class="notetitle"> 说明： </span><div class="notebody">获取到软件包后建议先执行软件包校验的操作，具体操作请参见<a href="../soft_inst/it_60_23_000021.html">校验软件包</a>。</div></div>
</div>

<div class="section"><h4 class="sectiontitle">配置流程</h4><p>基于硬件路由器的ACL业务配置流程如<a href="#it_60_51_000012__fig_process">图2</a>所示。</p>
<div class="fignone" id="it_60_51_000012__fig_process"><a name="it_60_51_000012__fig_process"></a><a name="fig_process"></a><span class="figcap"><b>图2 </b>配置流程</span>

<br><span><img src="fig/fig_it_60_51_000012_01.png"></span></div>
 <p>配置流程中的各任务说明如<a href="#it_60_51_000012__tab_acl">表2</a>所示。</p>

<div class="tablenoborder"><a name="it_60_51_000012__tab_acl"></a><a name="tab_acl"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000012__tab_acl" frame="border" border="1" rules="all"><caption><b>表2 </b>任务说明</caption>
<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="28.125000000000007%" id="mcps1.2.4.5.2.4.1.1"><p>任务</p>
</th>

<th class="cellrowborder" valign="top" width="41.40625000000001%" id="mcps1.2.4.5.2.4.1.2"><p>说明</p>
</th>

<th class="cellrowborder" valign="top" width="30.46875%" id="mcps1.2.4.5.2.4.1.3"><p>界面入口</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="28.125000000000007%" headers="mcps1.2.4.5.2.4.1.1 "><p>接入防火墙设备</p>
</td>

<td class="cellrowborder" valign="top" width="41.40625000000001%" headers="mcps1.2.4.5.2.4.1.2 "><p>硬件类型的路由器能够提供弹性IP、NAT、ACLs、应用层包过滤和VPN功能，在使用这些功能之前，需要在防火墙设备上创建虚拟防火墙实例，并将防火墙设备接入到<span>FusionManager</span>，以便通过<span>FusionManager</span>对防火墙进行配置和管理。</p>
</td>

<td class="cellrowborder" valign="top" width="30.46875%" headers="mcps1.2.4.5.2.4.1.3 "><p><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">设备</span> &gt; <span class="uicontrol">网络设备</span> &gt; <span class="uicontrol">防火墙</span>”</span></p>
</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="28.125000000000007%" headers="mcps1.2.4.5.2.4.1.1 "><p>添加VLAN池并关联DVS</p>
</td>

<td class="cellrowborder" valign="top" width="41.40625000000001%" headers="mcps1.2.4.5.2.4.1.2 "><p>将规划的路由网络的VLAN，添加到<span>FusionManager</span>的VLAN池，并为其关联DVS。</p>
</td>

<td class="cellrowborder" valign="top" width="30.46875%" headers="mcps1.2.4.5.2.4.1.3 ">在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，选择<span class="menucascade">“<span class="uicontrol">网络资源池</span> &gt; <span class="uicontrol">VLAN池</span>”</span>。</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="28.125000000000007%" headers="mcps1.2.4.5.2.4.1.1 "><p>添加公网IP地址池</p>
</td>

<td class="cellrowborder" valign="top" width="41.40625000000001%" headers="mcps1.2.4.5.2.4.1.2 "><p>仅在创建ACL域间规则时执行此任务。</p>
<p>公网IP地址池是对<span>FusionManager</span>所使用的公网IP地址进行管理的资源池，租户为VPC申请的弹性IP地址，来源于公网IP地址池。</p>
</td>

<td class="cellrowborder" valign="top" width="30.46875%" headers="mcps1.2.4.5.2.4.1.3 ">在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，选择<span class="menucascade">“<span class="uicontrol">网络资源池</span> &gt; <span class="uicontrol">公网IP地址池</span>”</span>。</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="28.125000000000007%" headers="mcps1.2.4.5.2.4.1.1 "><p>创建IP带宽规格</p>
</td>

<td class="cellrowborder" valign="top" width="41.40625000000001%" headers="mcps1.2.4.5.2.4.1.2 "><p>仅在创建ACL域间规则时执行此任务。</p>
<p>IP带宽规格中规定了IP地址的接收和发送带宽。租户在申请弹性IP时，通过选择IP带宽规格，设置弹性IP业务的带宽。</p>
</td>

<td class="cellrowborder" valign="top" width="30.46875%" headers="mcps1.2.4.5.2.4.1.3 "><span class="menucascade">“<span class="uicontrol">VDC</span> &gt; <span class="uicontrol">IP带宽规格</span>”</span></td>

</tr>

</tbody>

</table>
</div>
<p>基于软件路由器的ACL业务配置流程如<a href="#it_60_51_000012__fig_process2">图3</a>所示。</p>
<div class="fignone" id="it_60_51_000012__fig_process2"><a name="it_60_51_000012__fig_process2"></a><a name="fig_process2"></a><span class="figcap"><b>图3 </b>配置流程</span>

<br><span><img src="fig/fig_it_60_51_000012_03.png"></span></div>
<p>配置流程中的各任务说明如<a href="#it_60_51_000012__tab_acl2">表3</a>所示。</p>

<div class="tablenoborder"><a name="it_60_51_000012__tab_acl2"></a><a name="tab_acl2"></a><table cellpadding="4" cellspacing="0" summary="" id="it_60_51_000012__tab_acl2" frame="border" border="1" rules="all"><caption><b>表3 </b>任务说明</caption>


<thead align="left">
<tr>
<th class="cellrowborder" valign="top" width="20.77922077922078%" id="mcps1.2.4.9.2.4.1.1"><p>任务</p>
</th>

<th class="cellrowborder" valign="top" width="41.2987012987013%" id="mcps1.2.4.9.2.4.1.2"><p>说明</p>
</th>

<th class="cellrowborder" valign="top" width="37.92207792207792%" id="mcps1.2.4.9.2.4.1.3"><p>参考内容</p>
</th>

</tr>

</thead>

<tbody>
<tr>
<td class="cellrowborder" valign="top" width="20.77922077922078%" headers="mcps1.2.4.9.2.4.1.1 "><p>安装并接入VSAM</p>
</td>

<td class="cellrowborder" valign="top" width="41.2987012987013%" headers="mcps1.2.4.9.2.4.1.2 "><p>使用系统服务虚拟机，为系统提供软件路由器、软件负载均衡以及DHCP服务等服务时，要求使用<span>FusionCompute</span>虚拟化环境，并在虚拟化环境中部署VSAM节点，该节点用来对系统服务虚拟机进行配置和管理。</p>
</td>

<td class="cellrowborder" valign="top" width="37.92207792207792%" headers="mcps1.2.4.9.2.4.1.3 "><p><strong>安装VSAM</strong></p>
<p><span>《<span>FusionManager V100R005C00
软件安装指南</span>》</span>中的<span class="wintitle">“安装VSAM”</span>。</p>
<p><strong>修改虚拟化环境</strong></p>
<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">虚拟化环境</span>”</span></td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="20.77922077922078%" headers="mcps1.2.4.9.2.4.1.1 "><p>添加VLAN池并关联DVS</p>
</td>

<td class="cellrowborder" valign="top" width="41.2987012987013%" headers="mcps1.2.4.9.2.4.1.2 "><div class="p">需要在VLAN池中添加以下网络的VLAN信息:<ul><li>路由网络的VLAN，该路由网络用来部署业务虚拟机。</li><li>外部网络的VLAN，该外部网络用来连接软件路由器。</li></ul>
</div>
</td>

<td class="cellrowborder" valign="top" width="37.92207792207792%" headers="mcps1.2.4.9.2.4.1.3 ">在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，选择<span class="menucascade">“<span class="uicontrol">网络资源池</span> &gt; <span class="uicontrol">VLAN池</span>”</span>。</td>

</tr>

<tr>

<td class="cellrowborder" valign="top" width="20.77922077922078%" headers="mcps1.2.4.9.2.4.1.1 "><p>添加外部网络</p>
</td>

<td class="cellrowborder" valign="top" width="41.2987012987013%" headers="mcps1.2.4.9.2.4.1.2 "><p>本任务中的外部网络用于连接软件路由器，为路由网络中关联的虚拟机访问公网提供公网IP地址资源。在<span>FusionManager</span>上创建外部网络时要求能够连接到Internet，且子网的分配方式为静态注入，子网类型为普通。</p>
</td>

<td class="cellrowborder" valign="top" width="37.92207792207792%" headers="mcps1.2.4.9.2.4.1.3 ">在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，选择<span class="menucascade">“<span class="uicontrol">网络资源池</span> &gt; <span class="uicontrol">外部网络</span>”</span>。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="20.77922077922078%" headers="mcps1.2.4.9.2.4.1.1 "><p>添加VSA管理网络</p>
</td>

<td class="cellrowborder" valign="top" width="41.2987012987013%" headers="mcps1.2.4.9.2.4.1.2 "><div class="p">VSA管理网络用来为系统服务虚拟机提供管理平面网络，其配置要求如下：<ul><li>VSA管理网络与系统管理平面互通。</li><li>VSA管理网络的VLAN要添加到FusionCompute的分布式交换机中，但在<span>FusionManager</span>的VLAN池中不能包含此VLAN。</li></ul>
</div>
</td>

<td class="cellrowborder" valign="top" width="37.92207792207792%" headers="mcps1.2.4.9.2.4.1.3 ">在<span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">资源分区</span>”</span>界面，选择一个资源分区，选择<span class="menucascade">“<span class="uicontrol">网络资源池</span> &gt; <span class="uicontrol">VSA网络</span>”</span>。</td>

</tr>

<tr>
<td class="cellrowborder" valign="top" width="20.77922077922078%" headers="mcps1.2.4.9.2.4.1.1 "><p>导入VSA虚拟机模板</p>
</td>

<td class="cellrowborder" valign="top" width="41.2987012987013%" headers="mcps1.2.4.9.2.4.1.2 "><p>VSA虚拟机模板为系统自动创建系统服务虚拟机提供模板资源。</p>
</td>

<td class="cellrowborder" valign="top" width="37.92207792207792%" headers="mcps1.2.4.9.2.4.1.3 "><span class="menucascade">“<span class="uicontrol">资源</span> &gt; <span class="uicontrol">模板和规格</span> &gt; <span class="uicontrol">虚拟机模板</span>”</span></td>

</tr>

</tbody>

</table>
</div>
</div>

</div>


</body>
</html>